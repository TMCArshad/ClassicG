/*
    Author      : Durga Prasad
    Date        : 12-Sep-2014
    Description : This fetches the Page Flow configuration records from another Instance.

*/
public with sharing class Import_FlowCls {
  public static boolean isApexTest = false;//Variable used for CodeCoverage
    
    public string username{get;set;}
    public string password{get;set;}
    
    public string clientId = '';
    public string ConsumerKey = '';
    public string RestClsURL = '';
    public string accsToken = '';
    public string strTemplateName{get;set;}
    public FlowProcessWrap objProcess{get;set;}
    public boolean showPnl{get;set;}
    public list<selectOption> lstSelectOption{get;set;}
    public string selSandBox{get;set;}
    public map<id,Process_Migration_Setup__c> mapLoginDetailsCS = new map<id,Process_Migration_Setup__c>();
    public Process_Migration_Setup__c objCS = new Process_Migration_Setup__c();
    public Import_FlowCls(){
        strTemplateName = '';
        username = '';
        password = '';
        showPnl = false;
        selSandBox = '';
        lstSelectOption = new list<selectoption>();
        lstSelectOption.add(new selectoption('','--None--'));
        // get the user name password for connecting to source org from custom setting Process_Migration_Setup__c
        string UserName = '';
        string Password = '';
        string SecurityToken = '';
        for(Process_Migration_Setup__c Mig:[select Id,Name,User_Name__c,Password__c,Security_Token__c,Instance_URL__c,Production_Instance__c from Process_Migration_Setup__c where User_Name__c!=null and Password__c!=null]){
            UserName = Mig.User_Name__c;
            Password = Mig.Password__c;
            SecurityToken = Mig.Security_Token__c;
            lstSelectOption.add(new selectoption(Mig.Id,Mig.Name));
            mapLoginDetailsCS.put(Mig.Id,Mig);
        }
        objProcess = new FlowProcessWrap();
    }
    
    public void FetchAccesToken(){
      if(selSandBox!=null && mapLoginDetailsCS.get(selSandBox)!=null){
        objCS = mapLoginDetailsCS.get(selSandBox);
        ConnectionError = '';
        try{
              accsToken = AcessToken(objCS.User_Name__c,objCS.Password__c,objCS.Security_Token__c,objCS.Production_Instance__c);
        }catch(Exception e){
          ApexPages.addMessage(new ApexPages.message(ApexPages.severity.Error,string.valueOf(e.getMessage())));
        }
            if(accsToken!=null && accsToken!=''){
              ApexPages.addMessage(new ApexPages.message(ApexPages.severity.Confirm,'Connection created Successfully, Please provide the SR RecordType API Name to proceed.'));
            }else{
              if(ConnectionError!=null && ConnectionError!=''){
                ApexPages.addMessage(new ApexPages.message(ApexPages.severity.Error,'[ Unable to Connect '+objCS.Name+' ] : '+ConnectionError));
              }else{
                ApexPages.addMessage(new ApexPages.message(ApexPages.severity.Error,'Failed to create an Connection for '+objCS.Name+', Please try again.'));
              }
            }
      }
    }
    
    // click of fetch process button
    public void ImportProcess(){
        RestClsURL = objCS.Instance_URL__c+'/services/apexrest/Fetch_Flow_Process/GetFlowProcess';
        boolean templateExists = false;
        
        if(templateExists==true){
            ApexPages.addMessage(new ApexPages.message(ApexPages.severity.Error,'SR-Template already exists in this Org. Please delete the SR-Template and related Child Records to process.'));
        }else if(templateExists==false && strTemplateName!=null && strTemplateName!=''){
            string postData='{\"SR_RecordType_API_Name\": \"'+strTemplateName+'\"}';
            JSONParser parser;
            string responseString;
            HttpRequest req = new HttpRequest();
            req.setEndpoint(RestClsURL);
            req.setMethod('POST');
            req.setHeader('Authorization', 'OAuth ' + accsToken);
            req.setHeader('content-type','application/json');
            req.setBody(postData);
            Http http = new Http();
            if (!isApexTest){
                HTTPResponse res = http.send(req);
                responseString = string.valueOf(res.getBody());
            }else{
              responseString = '{"PageFlow":{"attributes":{"type":"Page_Flow__c","url":"/services/data/v29.0/sobjects/Page_Flow__c/a2LO0000000UPA5MAO"},"Name":"Lead to License flow","Record_Type_API_Name__c":"New_Company_Application","Id":"a2LO0000000UPA5MAO"},"lstSections":[{"attributes":{"type":"Section__c","url":"/services/data/v29.0/sobjects/Section__c/a2MO0000000KBfgMAG"},"Name":"Search Activities","Page__c":"a2KO0000000YD7pMAG","Id":"a2MO0000000KBfgMAG","Section_Type__c":"PageBlockSection","Default_Rendering__c":"true","Section_Title__c":"Search to Add Activities","Order__c":1,"Section_Description__c":"<div><p>License Types:</p><p>There are two ways to select the Activities.</p><p>Note: Once the activity is selected, it will show if any third party NOC letters will be required. An NOC is a No Objection Certificate that you will need to obtain from an external Authority which regulates the activity. Later in the process GEMS will provide you with an introduction letter that will enable you to obtain the NOC.</p><p>You may choose up to 6 activities under the same licence with no additional fee. To do so, the 6 activities must have the same first two digits (i.e. Activity 1: 74xx-xx, Activity 2: 74xx-xx).</p><p>For the GEMS Approved Activities list, please click here.</p><p>For the GEMS Activities Pricing Rules</p><p>Note: Selecting licence type and activities is an important decision in setting up your company. If you need support to complete this section, please contact us via the following channels:</p><p>a. Live Chat</p> <p>b. Hotline: +971-4-4249600</p> <p>c. Email: customercare@GEMS.ae</p></div>","Layout__c":"1"},{"attributes":{"type":"Section__c","url":"/services/data/v29.0/sobjects/Section__c/a2MO0000000JqFBMA0"},"Name":"Upload Required Documents Button Section","Page__c":"a2KO0000000YD8OMAW","Id":"a2MO0000000JqFBMA0","Section_Type__c":"CommandButtonSection","Default_Rendering__c":"true","Section_Title__c":"Upload Required Documents Button Section","Order__c":1,"Section_Description__c":"Upload Required Documents Button Section","Layout__c":"1"},{"attributes":{"type":"Section__c","url":"/services/data/v29.0/sobjects/Section__c/a2MO0000000JqF6MAK"},"Name":"Review & Finalise Button Section","Page__c":"a2KO0000000YD8JMAW","Id":"a2MO0000000JqF6MAK","Section_Type__c":"CommandButtonSection","Default_Rendering__c":"true","Section_Title__c":"Review & Finalise Button Section","Order__c":1,"Section_Description__c":"Review & Finalise Button Section","Layout__c":"1"},{"attributes":{"type":"Section__c","url":"/services/data/v29.0/sobjects/Section__c/a2MO0000000JqEhMAK"},"Name":"License & Activity Button Section","Page__c":"a2KO0000000YD7pMAG","Id":"a2MO0000000JqEhMAK","Section_Type__c":"CommandButtonSection","Default_Rendering__c":"true","Section_Title__c":"License & Activity Button Section","Order__c":1,"Section_Description__c":"License & Activity Button Section","Layout__c":"1"},{"attributes":{"type":"Section__c","url":"/services/data/v29.0/sobjects/Section__c/a2MO0000000JqEwMAK"},"Name":"Key Roles in the Company Button Section","Page__c":"a2KO0000000YD8EMAW","Id":"a2MO0000000JqEwMAK","Section_Type__c":"CommandButtonSection","Default_Rendering__c":"true","Section_Title__c":"Key Roles in the Company Button Section","Order__c":1,"Section_Description__c":"Key Roles in the Company Button Section","Layout__c":"1"},{"attributes":{"type":"Section__c","url":"/services/data/v29.0/sobjects/Section__c/a2MO0000000JqFGMA0"},"Name":"Submit your Application Button Section","Page__c":"a2KO0000000YD8TMAW","Id":"a2MO0000000JqFGMA0","Section_Type__c":"CommandButtonSection","Default_Rendering__c":"true","Section_Title__c":"Submit your Application Button Section","Order__c":1,"Section_Description__c":"Submit your Application Button Section","Layout__c":"1"},{"attributes":{"type":"Section__c","url":"/services/data/v29.0/sobjects/Section__c/a2MO0000000JqEcMAK"},"Name":"Shareholder Button Section","Page__c":"a2KO0000000YD89MAG","Id":"a2MO0000000JqEcMAK","Section_Type__c":"CommandButtonSection","Default_Rendering__c":"true","Section_Title__c":"Shareholder Button Section","Order__c":1,"Section_Description__c":"Shareholder Button Section","Layout__c":"1"},{"attributes":{"type":"Section__c","url":"/services/data/v29.0/sobjects/Section__c/a2MO0000000K6whMAC"},"Name":"Button Navigation Section","Page__c":"a2KO0000000YOJ1MAO","Id":"a2MO0000000K6whMAC","Section_Type__c":"CommandButtonSection","Default_Rendering__c":"true","Section_Title__c":"Button Navigation Section","Order__c":1,"Section_Description__c":"Button Navigation Section","Layout__c":"1"},{"attributes":{"type":"Section__c","url":"/services/data/v29.0/sobjects/Section__c/a2MO0000000JqDtMAK"},"Name":"GEMS Value Added Insurance Services","Page__c":"a2KO0000000YD7kMAG","Id":"a2MO0000000JqDtMAK","Section_Type__c":"PageBlockSection","Default_Rendering__c":"true","Section_Title__c":"GEMS Value Added Insurance Service","Order__c":1,"Section_Description__c":"Select Third Party Liability and Workmanâ€™s Compensation Insurance if you would like to receive a quote from GEMSinsurance partner at a discounted rate. The insurance is mandatory but may be obtained from any qualified insurer in the UAE (Please note that this insurance is not applicable for GEMS Flexi Desks and Services Offices).","Layout__c":"1"},{"attributes":{"type":"Section__c","url":"/services/data/v29.0/sobjects/Section__c/a2MO0000000JqDFMA0"},"Name":"Primary Information Buttons Section","Page__c":"a2KO0000000YD6mMAG","Id":"a2MO0000000JqDFMA0","Section_Type__c":"CommandButtonSection","Default_Rendering__c":"true","Section_Title__c":"Primary Information Buttons Section","Order__c":1,"Section_Description__c":"Primary Information Buttons Section","Layout__c":"1"},{"attributes":{"type":"Section__c","url":"/services/data/v29.0/sobjects/Section__c/a2MO0000000JqDAMA0"},"Name":"Company Type","Page__c":"a2KO0000000YD6mMAG","Id":"a2MO0000000JqDAMA0","Section_Type__c":"PageBlockSection","Default_Rendering__c":"true","Section_Title__c":"Company Type","Order__c":1,"Section_Description__c":"<div><p>There are two GEMS company types: New Company and Branch.</p></p>Choose if it is one of the 3 following options:</p><p>Choose branch if the parent company wishes to open a branch that may perform some or all of the activities that the parent company is authorised to preform. </p></p></div>","Layout__c":"1"},{"attributes":{"type":"Section__c","url":"/services/data/v29.0/sobjects/Section__c/a2MO0000000JqDoMAK"},"Name":"GEMS Value Added Services Buttons section","Page__c":"a2KO0000000YD7kMAG","Id":"a2MO0000000JqDoMAK","Section_Type__c":"CommandButtonSection","Default_Rendering__c":"true","Section_Title__c":"GEMS Value Added Services (Additional Charges Applicable)","Order__c":1,"Section_Description__c":"GEMS Value Added Services (Additional Charges Applicable)","Layout__c":"1"},{"attributes":{"type":"Section__c","url":"/services/data/v29.0/sobjects/Section__c/a2MO0000000KBfvMAG"},"Name":"Company details","Page__c":"a2KO0000000YD8EMAW","Id":"a2MO0000000KBfvMAG","Section_Type__c":"PageBlockSection","Default_Rendering__c":"true","Section_Title__c":"Company details","Order__c":1,"Section_Description__c":"The below are the details of the Company.","Layout__c":"1"},{"attributes":{"type":"Section__c","url":"/services/data/v29.0/sobjects/Section__c/a2MO0000000KBflMAG"},"Name":"Company Share Capital Details","Page__c":"a2KO0000000YD89MAG","Id":"a2MO0000000KBflMAG","Section_Type__c":"PageBlockSection","Default_Rendering__c":"true","Section_Title__c":"Company Share Capital Details","Order__c":1,"Section_Description__c":"If you are applying for a visa through GEMS, please note that a minimum of AED 50,000 worth of shares are required to qualify. If you are not applying for a visa, a minimum of AED 10,000 worth of shares out of the total minimum share capital of AED 50,000 will suffice.","Layout__c":"1"},{"attributes":{"type":"Section__c","url":"/services/data/v29.0/sobjects/Section__c/a2MO0000000KBfqMAG"},"Name":"Shareholder Details","Page__c":"a2KO0000000YD89MAG","Id":"a2MO0000000KBfqMAG","Section_Type__c":"PageBlockSection","Default_Rendering__c":"true","Section_Title__c":"Shareholder Details","Order__c":2,"Section_Description__c":"Shareholders can be individual natural persons or corporates. Each shareholder will own a percentage of the company based on the following calculation:Number of shares owned by shareholder divided by total number of shares in the company.","Layout__c":"1"},{"attributes":{"type":"Section__c","url":"/services/data/v29.0/sobjects/Section__c/a2MO0000000JqDKMA0"},"Name":"Proposed Company Name","Page__c":"a2KO0000000YD6mMAG","Id":"a2MO0000000JqDKMA0","Section_Type__c":"PageBlockSection","Default_Rendering__c":"false","Section_Title__c":"Proposed Company Name","Order__c":2,"Section_Description__c":"Please enter 3 proposed company names. The system will prevent certain restricted words from being entered.","Layout__c":"1"},{"attributes":{"type":"Section__c","url":"/services/data/v29.0/sobjects/Section__c/a2MO0000000KBg0MAG"},"Name":"Officers Details","Page__c":"a2KO0000000YD8EMAW","Id":"a2MO0000000KBg0MAG","Section_Type__c":"PageBlockSection","Default_Rendering__c":"true","Section_Title__c":"Officers Details","Order__c":2,"Section_Description__c":"<b>Note:</b> If any of the individual shareholders will hold an officer position, then, click on the button beside the shareholders name.</p>Otherwise click on to add a new individual who is not a shareholder.</p>Please note that a new company has to appoint 1 Manager (mandatory), at least 1 Director (mandatory), up to 7 Legal Representatives (optional) and 1  Secretary (optional).</p>For Branch Companies, please note that appointing a Manager is mandatory, while the appointment of Director/ Secretary/ Legal Representative is optional.</p><p>Please appoint a Manager for each license; noting that the same Manager can be appointed for multiple licenses.</p>","Layout__c":"1"},{"attributes":{"type":"Section__c","url":"/services/data/v29.0/sobjects/Section__c/a2MO0000000JqDUMA0"},"Name":"Parent Company Details","Page__c":"a2KO0000000YD6mMAG","Id":"a2MO0000000JqDUMA0","Section_Type__c":"PageBlockSection","Default_Rendering__c":"false","Section_Title__c":"Parent Company Details","Order__c":3,"Section_Description__c":"Please provide the Parent Company details","Layout__c":"1"},{"attributes":{"type":"Section__c","url":"/services/data/v29.0/sobjects/Section__c/a2MO0000000K6wmMAC"},"Name":"Bank Details","Page__c":"a2KO0000000YD6mMAG","Id":"a2MO0000000K6wmMAC","Section_Type__c":"PageBlockSection","Default_Rendering__c":"false","Section_Title__c":"Bank Details","Order__c":5,"Section_Description__c":"Please provide the name of the bank that you intend to open an account with. This is mandatory to deposit your share capital upon company registration.","Layout__c":"1"},{"attributes":{"type":"Section__c","url":"/services/data/v29.0/sobjects/Section__c/a2MO0000000JqDeMAK"},"Name":"Financial Year Details","Page__c":"a2KO0000000YD6mMAG","Id":"a2MO0000000JqDeMAK","Section_Type__c":"PageBlockSection","Default_Rendering__c":"false","Section_Title__c":"Financial Year Details","Order__c":6,"Section_Description__c":"The GEMS standard financial year commences on 1 January and ends on 31 December. However, if you wish to change the financial year date, please enter below the preferred financial year end date; noting that no financial year must exceed 18 months, or be less than 6 months.</p>","Layout__c":"1"},{"attributes":{"type":"Section__c","url":"/services/data/v29.0/sobjects/Section__c/a2MO0000000JqDjMAK"},"Name":"Correspondence Details","Page__c":"a2KO0000000YD6mMAG","Id":"a2MO0000000JqDjMAK","Section_Type__c":"PageBlockSection","Default_Rendering__c":"true","Section_Title__c":"Correspondence Details","Order__c":7,"Section_Description__c":"Please provide your email address and mobile number.","Layout__c":"1"}],"lstSecRules":[{"attributes":{"type":"Page_Navigation_Rule__c","url":"/services/data/v29.0/sobjects/Page_Navigation_Rule__c/a2QO0000000QGPJMA4"},"Name":"PNR-000012","Rule_Name__c":"Buttons Section of Instructions Page","Section__c":"a2MO0000000K6whMAC","Rule_Condition__c":"1 or 2","Id":"a2QO0000000QGPJMA4","Rule_Text_Condition__c":"Service_Request__c->Internal_Status_Name__c#=#Draft#OR#Service_Request__c->Internal_Status_Name__c#=#null"},{"attributes":{"type":"Page_Navigation_Rule__c","url":"/services/data/v29.0/sobjects/Page_Navigation_Rule__c/a2QO0000000QC0pMAG"},"Name":"PNR-000001","Rule_Name__c":"Bank details should be only visisble for New Company","Section__c":"a2MO0000000K6wmMAC","Rule_Condition__c":"1","Id":"a2QO0000000QC0pMAG","Rule_Text_Condition__c":"Service_Request__c->Company_Type__c#!=#Branch","Rule_Description__c":"Bank details should be only visisble for New Company"},{"attributes":{"type":"Page_Navigation_Rule__c","url":"/services/data/v29.0/sobjects/Page_Navigation_Rule__c/a2QO0000000QCGnMAO"},"Name":"PNR-000002","Rule_Name__c":"Parent Company Details Render rule","Section__c":"a2MO0000000JqDUMA0","Rule_Condition__c":"1","Id":"a2QO0000000QCGnMAO","Rule_Text_Condition__c":"Service_Request__c->Company_Type__c#=#Branch","Rule_Description__c":"Parent Company Details Render rule"},{"attributes":{"type":"Page_Navigation_Rule__c","url":"/services/data/v29.0/sobjects/Page_Navigation_Rule__c/a2QO0000000QEMyMAO"},"Name":"PNR-000007","Rule_Name__c":"Financial Year Section Display Rule","Section__c":"a2MO0000000JqDeMAK","Rule_Condition__c":"1","Id":"a2QO0000000QEMyMAO","Rule_Text_Condition__c":"Service_Request__c->Company_Type__c#=#New Company"},{"attributes":{"type":"Page_Navigation_Rule__c","url":"/services/data/v29.0/sobjects/Page_Navigation_Rule__c/a2QO0000000QEOTMA4"},"Name":"PNR-000009","Rule_Name__c":"Proposed Company for New Company","Section__c":"a2MO0000000JqDKMA0","Rule_Condition__c":"1","Id":"a2QO0000000QEOTMA4","Rule_Text_Condition__c":"Service_Request__c->Company_Type__c#=#New Company"},{"attributes":{"type":"Page_Navigation_Rule__c","url":"/services/data/v29.0/sobjects/Page_Navigation_Rule__c/a2QO0000000EDueMAG"},"Name":"PNR-000010","Rule_Name__c":"Buttons Section Rule","Section__c":"a2MO0000000JqF6MAK","Rule_Condition__c":"1","Id":"a2QO0000000EDueMAG","Rule_Text_Condition__c":"Service_Request__c->Internal_Status_Name__c#=#Draft"}],"lstSecDetails":[{"attributes":{"type":"Section_Detail__c","url":"/services/data/v29.0/sobjects/Section_Detail__c/a2NO00000001mASMAY"},"Cancel_Request__c":"false","hasOnChange__c":"false","Render_By_Default__c":"true","Disabled__c":"false","Order__c":1,"Component_Type__c":"Command Button","Name":"Home Page Navigation","Navigation_Directions__c":"Backward","Section__c":"a2MO0000000JqFBMA0","Mark_it_as_Required__c":"false","Id":"a2NO00000001mASMAY","Ignore_Required_Fields__c":"true","Button_Position__c":"Left","Component_Label__c":"Previous","Navigation_Direction__c":"Backward","Commit_the_Record__c":"false"},{"attributes":{"type":"Section_Detail__c","url":"/services/data/v29.0/sobjects/Section_Detail__c/a2NO00000001J4JMAU"},"Cancel_Request__c":"false","hasOnChange__c":"false","Render_By_Default__c":"false","Disabled__c":"false","Order__c":1,"Component_Type__c":"Command Button","Name":"Previous Review & Finalise Button Section","Button_Location__c":"Top","Navigation_Directions__c":"Backward","Section__c":"a2MO0000000JqF6MAK","Mark_it_as_Required__c":"false","Id":"a2NO00000001J4JMAU","Ignore_Required_Fields__c":"false","Button_Position__c":"Left","Component_Label__c":"Previous","Navigation_Direction__c":"Backward","Commit_the_Record__c":"false"},{"attributes":{"type":"Section_Detail__c","url":"/services/data/v29.0/sobjects/Section_Detail__c/a2NO00000001J3zMAE"},"Cancel_Request__c":"false","hasOnChange__c":"false","Render_By_Default__c":"true","Disabled__c":"false","Order__c":1,"Component_Type__c":"Command Button","Name":"Previous License & Activity Button Section","Button_Location__c":"Top","Section__c":"a2MO0000000JqEhMAK","Mark_it_as_Required__c":"false","Id":"a2NO00000001J3zMAE","Ignore_Required_Fields__c":"false","Button_Position__c":"Left","Component_Label__c":"Previous","Navigation_Direction__c":"Forward","Commit_the_Record__c":"false"},{"attributes":{"type":"Section_Detail__c","url":"/services/data/v29.0/sobjects/Section_Detail__c/a2NO00000001J3pMAE"},"Cancel_Request__c":"false","hasOnChange__c":"false","Render_By_Default__c":"true","Disabled__c":"false","Order__c":1,"Component_Type__c":"Command Button","Name":"Previous Shareholder Button Section","Button_Location__c":"Top","Section__c":"a2MO0000000JqEcMAK","Mark_it_as_Required__c":"false","Id":"a2NO00000001J3pMAE","Ignore_Required_Fields__c":"false","Button_Position__c":"Left","Component_Label__c":"Previous","Navigation_Direction__c":"Forward","Commit_the_Record__c":"false"},{"attributes":{"type":"Section_Detail__c","url":"/services/data/v29.0/sobjects/Section_Detail__c/a2NO00000001J4dMAE"},"Cancel_Request__c":"false","hasOnChange__c":"false","Render_By_Default__c":"true","Disabled__c":"false","Order__c":1,"Component_Type__c":"Command Button","Name":"Previous Submit your Application","Button_Location__c":"Top","Section__c":"a2MO0000000JqFGMA0","Mark_it_as_Required__c":"false","Id":"a2NO00000001J4dMAE","Ignore_Required_Fields__c":"false","Button_Position__c":"Left","Component_Label__c":"Previous","Navigation_Direction__c":"Forward","Commit_the_Record__c":"false"},{"attributes":{"type":"Section_Detail__c","url":"/services/data/v29.0/sobjects/Section_Detail__c/a2NO00000001J4YMAU"},"Cancel_Request__c":"false","hasOnChange__c":"false","Render_By_Default__c":"true","Disabled__c":"false","Order__c":1,"Component_Type__c":"Command Button","Name":"Next Upload Required Documents Button Section","Button_Location__c":"Top","Navigation_Directions__c":"Forward","Section__c":"a2MO0000000JqFBMA0","Mark_it_as_Required__c":"false","Id":"a2NO00000001J4YMAU","Ignore_Required_Fields__c":"false","Button_Position__c":"Right","Component_Label__c":"Confirm","Navigation_Direction__c":"Forward","Commit_the_Record__c":"false"},{"attributes":{"type":"Section_Detail__c","url":"/services/data/v29.0/sobjects/Section_Detail__c/a2NO00000001J49MAE"},"Cancel_Request__c":"false","hasOnChange__c":"false","Render_By_Default__c":"true","Disabled__c":"false","Order__c":1,"Component_Type__c":"Command Button","Name":"Previous Key Roles in the Company Button Section","Button_Location__c":"Top","Section__c":"a2MO0000000JqEwMAK","Mark_it_as_Required__c":"false","Id":"a2NO00000001J49MAE","Ignore_Required_Fields__c":"false","Button_Position__c":"Left","Component_Label__c":"Previous","Navigation_Direction__c":"Forward","Commit_the_Record__c":"false"},{"attributes":{"type":"Section_Detail__c","url":"/services/data/v29.0/sobjects/Section_Detail__c/a2NO00000001NYPMA2"},"Cancel_Request__c":"false","hasOnChange__c":"false","Render_By_Default__c":"false","Disabled__c":"false","Order__c":1,"Component_Type__c":"Command Button","Name":"General Instructions Next","Button_Location__c":"Top","Navigation_Directions__c":"Forward","Section__c":"a2MO0000000K6whMAC","Mark_it_as_Required__c":"false","Id":"a2NO00000001NYPMA2","Ignore_Required_Fields__c":"true","Button_Position__c":"Right","Component_Label__c":"Proceed with Application","Navigation_Direction__c":"Forward","Commit_the_Record__c":"false"},{"attributes":{"type":"Section_Detail__c","url":"/services/data/v29.0/sobjects/Section_Detail__c/a2NO00000001J0vMAE"},"Cancel_Request__c":"false","hasOnChange__c":"false","Render_By_Default__c":"true","Disabled__c":"false","Order__c":1,"Component_Type__c":"Command Button","Name":"Next","Navigation_Directions__c":"Forward","Section__c":"a2MO0000000JqDFMA0","Mark_it_as_Required__c":"false","Id":"a2NO00000001J0vMAE","Ignore_Required_Fields__c":"false","Button_Position__c":"Right","Component_Label__c":"Next","Navigation_Direction__c":"Forward","Commit_the_Record__c":"false"},{"attributes":{"type":"Section_Detail__c","url":"/services/data/v29.0/sobjects/Section_Detail__c/a2NO00000001J36MAE"},"Cancel_Request__c":"false","Field_API_Name__c":"TPL__c","hasOnChange__c":"false","Render_By_Default__c":"true","Disabled__c":"false","Order__c":1,"Component_Type__c":"Input Field","Name":"Value Added Services","Section__c":"a2MO0000000JqDtMAK","Mark_it_as_Required__c":"false","Id":"a2NO00000001J36MAE","Ignore_Required_Fields__c":"false","Component_Label__c":"Third Party Liability Insurance","Navigation_Direction__c":"Forward","Object_Name__c":"Service_Request__c","Commit_the_Record__c":"false"},{"attributes":{"type":"Section_Detail__c","url":"/services/data/v29.0/sobjects/Section_Detail__c/a2NO00000001J28MAE"},"Cancel_Request__c":"false","Field_API_Name__c":"FinancialMonth__c","hasOnChange__c":"false","Render_By_Default__c":"true","Disabled__c":"false","Order__c":1,"Component_Type__c":"Input Field","Name":"Month","Default_Value__c":"31st December","Section__c":"a2MO0000000JqDeMAK","Mark_it_as_Required__c":"false","Id":"a2NO00000001J28MAE","Ignore_Required_Fields__c":"false","Component_Label__c":"Month","Navigation_Direction__c":"Forward","Object_Name__c":"Service_Request__c","Commit_the_Record__c":"false"},{"attributes":{"type":"Section_Detail__c","url":"/services/data/v29.0/sobjects/Section_Detail__c/a2NO00000001J10MAE"},"Cancel_Request__c":"false","Field_API_Name__c":"Customer__c","hasOnChange__c":"false","Render_By_Default__c":"false","Disabled__c":"false","Order__c":1,"Component_Type__c":"Input Field","Name":"Customer","Section__c":"a2MO0000000JqDKMA0","Mark_it_as_Required__c":"true","Id":"a2NO00000001J10MAE","Ignore_Required_Fields__c":"false","Component_Label__c":"Customer","Navigation_Direction__c":"Forward","Object_Name__c":"Service_Request__c","Commit_the_Record__c":"false"},{"attributes":{"type":"Section_Detail__c","url":"/services/data/v29.0/sobjects/Section_Detail__c/a2NO00000001J2mMAE"},"Cancel_Request__c":"false","hasOnChange__c":"false","Render_By_Default__c":"true","Disabled__c":"false","Order__c":1,"Component_Type__c":"Command Button","Name":"Back Value Added Services","Navigation_Directions__c":"Backward","Section__c":"a2MO0000000JqDoMAK","Mark_it_as_Required__c":"false","Id":"a2NO00000001J2mMAE","Ignore_Required_Fields__c":"false","Button_Position__c":"Left","Component_Label__c":"Previous","Navigation_Direction__c":"Backward","Commit_the_Record__c":"false"},{"attributes":{"type":"Section_Detail__c","url":"/services/data/v29.0/sobjects/Section_Detail__c/a2NO00000001J0lMAE"},"Cancel_Request__c":"false","Field_API_Name__c":"Company_Type__c","hasOnChange__c":"true","Render_By_Default__c":"true","Disabled__c":"false","Order__c":1,"Component_Type__c":"Input Field","Name":"Company Type","Field_Description__c":"Please select company type here","Section__c":"a2MO0000000JqDAMA0","Mark_it_as_Required__c":"true","Id":"a2NO00000001J0lMAE","Ignore_Required_Fields__c":"false","Component_Label__c":"Company Type","Navigation_Direction__c":"Forward","Object_Name__c":"Service_Request__c","Commit_the_Record__c":"false"},{"attributes":{"type":"Section_Detail__c","url":"/services/data/v29.0/sobjects/Section_Detail__c/a2NO00000001NYoMAM"},"Cancel_Request__c":"false","Field_API_Name__c":"Bank_Name__c","hasOnChange__c":"false","Render_By_Default__c":"true","Disabled__c":"false","Order__c":1,"Component_Type__c":"Input Field","Name":"Bank name","Field_Description__c":"Please select the Bank Name from the Lookup button","Section__c":"a2MO0000000K6wmMAC","Mark_it_as_Required__c":"true","Id":"a2NO00000001NYoMAM","Ignore_Required_Fields__c":"false","Component_Label__c":"Bank Name","Navigation_Direction__c":"Forward","Object_Name__c":"Service_Request__c","Commit_the_Record__c":"false"},{"attributes":{"type":"Section_Detail__c","url":"/services/data/v29.0/sobjects/Section_Detail__c/a2NO00000001RUrMAM"},"Cancel_Request__c":"false","Field_API_Name__c":"Are_you_a_Consultant__c","hasOnChange__c":"true","Render_By_Default__c":"true","Disabled__c":"false","Order__c":1,"Component_Type__c":"Input Field","Name":"Are you a Consultant?","Section__c":"a2MO0000000JqDjMAK","Mark_it_as_Required__c":"false","Id":"a2NO00000001RUrMAM","Ignore_Required_Fields__c":"false","Component_Label__c":"Please tick if you are a consultant acting on behalf of an applicant.","Navigation_Direction__c":"Forward","Object_Name__c":"Service_Request__c","Commit_the_Record__c":"false"},{"attributes":{"type":"Section_Detail__c","url":"/services/data/v29.0/sobjects/Section_Detail__c/a2NO00000001e4sMAA"},"Cancel_Request__c":"true","hasOnChange__c":"false","Render_By_Default__c":"true","Disabled__c":"false","Order__c":2,"Component_Type__c":"Command Button","Name":"Cancel","Navigation_Directions__c":"Forward","Section__c":"a2MO0000000JqDFMA0","Mark_it_as_Required__c":"false","Id":"a2NO00000001e4sMAA","Ignore_Required_Fields__c":"true","Button_Position__c":"Left","Component_Label__c":"Cancel Application","Navigation_Direction__c":"Forward","Commit_the_Record__c":"false"},{"attributes":{"type":"Section_Detail__c","url":"/services/data/v29.0/sobjects/Section_Detail__c/a2NO00000001J2SMAU"},"Cancel_Request__c":"false","Field_API_Name__c":"email__c","hasOnChange__c":"false","Render_By_Default__c":"false","Disabled__c":"false","Order__c":2,"Component_Type__c":"Input Field","Name":"Correspondence Email","Field_Description__c":"This will be the primary correspondance email address that we will use to contact you.","Section__c":"a2MO0000000JqDjMAK","Mark_it_as_Required__c":"true","Id":"a2NO00000001J2SMAU","Ignore_Required_Fields__c":"false","Component_Label__c":"Correspondence Email","Navigation_Direction__c":"Forward","Object_Name__c":"Service_Request__c","Commit_the_Record__c":"false"},{"attributes":{"type":"Section_Detail__c","url":"/services/data/v29.0/sobjects/Section_Detail__c/a2NO00000001J1KMAU"},"Cancel_Request__c":"false","Field_API_Name__c":"Proposed_company_name1__c","hasOnChange__c":"false","Render_By_Default__c":"true","Disabled__c":"false","Order__c":2,"Component_Type__c":"Input Field","Name":"Proposed company name 1","Field_Description__c":"The proposed company name should be followed by the word  (i.e. ABC1 COMPANY GEMS)","Section__c":"a2MO0000000JqDKMA0","Mark_it_as_Required__c":"true","Id":"a2NO00000001J1KMAU","Ignore_Required_Fields__c":"false","Component_Label__c":"Proposed Company Name 1","Navigation_Direction__c":"Forward","Object_Name__c":"Service_Request__c","Commit_the_Record__c":"false"},{"attributes":{"type":"Section_Detail__c","url":"/services/data/v29.0/sobjects/Section_Detail__c/a2NO00000001J2hMAE"},"Cancel_Request__c":"false","hasOnChange__c":"false","Render_By_Default__c":"true","Disabled__c":"false","Order__c":2,"Component_Type__c":"Command Button","Name":"Next Value Added Services","Navigation_Directions__c":"Forward","Section__c":"a2MO0000000JqDoMAK","Mark_it_as_Required__c":"false","Id":"a2NO00000001J2hMAE","Ignore_Required_Fields__c":"false","Button_Position__c":"Right","Component_Label__c":"Next","Navigation_Direction__c":"Forward","Commit_the_Record__c":"false"},{"attributes":{"type":"Section_Detail__c","url":"/services/data/v29.0/sobjects/Section_Detail__c/a2NO00000001J3BMAU"},"Cancel_Request__c":"false","Field_API_Name__c":"WC__c","hasOnChange__c":"false","Render_By_Default__c":"true","Disabled__c":"false","Order__c":2,"Component_Type__c":"Input Field","Name":"Value Added Services","Section__c":"a2MO0000000JqDtMAK","Mark_it_as_Required__c":"false","Id":"a2NO00000001J3BMAU","Ignore_Required_Fields__c":"false","Component_Label__c":"Workmanâ€™s Compensation Insurance","Navigation_Direction__c":"Forward","Object_Name__c":"Service_Request__c","Commit_the_Record__c":"false"},{"attributes":{"type":"Section_Detail__c","url":"/services/data/v29.0/sobjects/Section_Detail__c/a2NO00000001f71MAA"},"Cancel_Request__c":"false","hasOnChange__c":"false","Render_By_Default__c":"false","Disabled__c":"false","Order__c":2,"Component_Type__c":"Command Button","Name":"Pending Actions","Button_Location__c":"Top","Navigation_Directions__c":"Forward","Section__c":"a2MO0000000JqF6MAK","Mark_it_as_Required__c":"false","Id":"a2NO00000001f71MAA","Ignore_Required_Fields__c":"false","Button_Position__c":"Center","Component_Label__c":"Previous","Navigation_Direction__c":"Forward","Commit_the_Record__c":"false"},{"attributes":{"type":"Section_Detail__c","url":"/services/data/v29.0/sobjects/Section_Detail__c/a2NO00000001ejpMAA"},"Cancel_Request__c":"false","hasOnChange__c":"false","Render_By_Default__c":"false","Disabled__c":"false","Order__c":2,"Component_Type__c":"Command Button","Name":"Preview Application","Button_Location__c":"Top","Navigation_Directions__c":"Forward","Section__c":"a2MO0000000K6whMAC","Mark_it_as_Required__c":"false","Id":"a2NO00000001ejpMAA","Ignore_Required_Fields__c":"true","Button_Position__c":"Right","Component_Label__c":"Preview Application","Navigation_Direction__c":"Forward","Commit_the_Record__c":"false"},{"attributes":{"type":"Section_Detail__c","url":"/services/data/v29.0/sobjects/Section_Detail__c/a2NO00000001RUwMAM"},"Cancel_Request__c":"false","Field_API_Name__c":"Agent_Correspondance_Email__c","hasOnChange__c":"false","Render_By_Default__c":"false","Disabled__c":"false","Order__c":3,"Component_Type__c":"Input Field","Name":"Consultant Correspondence Email","Field_Description__c":"This will be the primary correspondance email address that we will use to contact you.","Section__c":"a2MO0000000JqDjMAK","Mark_it_as_Required__c":"true","Id":"a2NO00000001RUwMAM","Ignore_Required_Fields__c":"false","Component_Label__c":"Consultant Email","Navigation_Direction__c":"Forward","Object_Name__c":"Service_Request__c","Commit_the_Record__c":"false"},{"attributes":{"type":"Section_Detail__c","url":"/services/data/v29.0/sobjects/Section_Detail__c/a2NO00000001J44MAE"},"Cancel_Request__c":"false","hasOnChange__c":"false","Render_By_Default__c":"true","Disabled__c":"false","Order__c":3,"Component_Type__c":"Command Button","Name":"Next License & Activity Button Section","Button_Location__c":"Top","Section__c":"a2MO0000000JqEhMAK","Mark_it_as_Required__c":"false","Id":"a2NO00000001J44MAE","Ignore_Required_Fields__c":"false","Button_Position__c":"Right","Component_Label__c":"Next","Navigation_Direction__c":"Forward","Commit_the_Record__c":"false"},{"attributes":{"type":"Section_Detail__c","url":"/services/data/v29.0/sobjects/Section_Detail__c/a2NO00000001J4EMAU"},"Cancel_Request__c":"false","hasOnChange__c":"false","Render_By_Default__c":"true","Disabled__c":"false","Order__c":3,"Component_Type__c":"Command Button","Name":"Next Key Roles in the Company Button Section","Button_Location__c":"Top","Section__c":"a2MO0000000JqEwMAK","Mark_it_as_Required__c":"false","Id":"a2NO00000001J4EMAU","Ignore_Required_Fields__c":"false","Button_Position__c":"Right","Component_Label__c":"Next","Navigation_Direction__c":"Forward","Commit_the_Record__c":"false"},{"attributes":{"type":"Section_Detail__c","url":"/services/data/v29.0/sobjects/Section_Detail__c/a2NO00000001J4OMAU"},"Cancel_Request__c":"false","hasOnChange__c":"false","Render_By_Default__c":"false","Disabled__c":"false","Order__c":3,"Component_Type__c":"Command Button","Name":"Next Review & Finalise Button Section","Button_Location__c":"Top","Navigation_Directions__c":"Forward","Section__c":"a2MO0000000JqF6MAK","Mark_it_as_Required__c":"false","Id":"a2NO00000001J4OMAU","Ignore_Required_Fields__c":"false","Button_Position__c":"Right","Component_Label__c":"Confirm","Navigation_Direction__c":"Forward","Commit_the_Record__c":"false"},{"attributes":{"type":"Section_Detail__c","url":"/services/data/v29.0/sobjects/Section_Detail__c/a2NO00000001J3uMAE"},"Cancel_Request__c":"false","hasOnChange__c":"false","Render_By_Default__c":"true","Disabled__c":"false","Order__c":3,"Component_Type__c":"Command Button","Name":"Next Shareholder Button Section","Button_Location__c":"Top","Section__c":"a2MO0000000JqEcMAK","Mark_it_as_Required__c":"false","Id":"a2NO00000001J3uMAE","Ignore_Required_Fields__c":"false","Button_Position__c":"Right","Component_Label__c":"Next","Navigation_Direction__c":"Forward","Commit_the_Record__c":"false"},{"attributes":{"type":"Section_Detail__c","url":"/services/data/v29.0/sobjects/Section_Detail__c/a2NO00000001NYjMAM"},"Cancel_Request__c":"false","Field_API_Name__c":"Proposed_company_name2__c","hasOnChange__c":"false","Render_By_Default__c":"true","Disabled__c":"false","Order__c":3,"Component_Type__c":"Input Field","Name":"Proposed company name 2","Field_Description__c":"The proposed company name should be followed by the word  (i.e. ABC2 COMPANY GEMS)","Section__c":"a2MO0000000JqDKMA0","Mark_it_as_Required__c":"true","Id":"a2NO00000001NYjMAM","Ignore_Required_Fields__c":"false","Component_Label__c":"Proposed Company Name 2","Navigation_Direction__c":"Forward","Object_Name__c":"Service_Request__c","Commit_the_Record__c":"false"},{"attributes":{"type":"Section_Detail__c","url":"/services/data/v29.0/sobjects/Section_Detail__c/a2NO00000001J3LMAU"},"Cancel_Request__c":"false","Field_API_Name__c":"Other_Insurance_Details__c","hasOnChange__c":"false","Render_By_Default__c":"true","Disabled__c":"false","Order__c":3,"Component_Type__c":"Input Field","Name":"Value Added Services","Field_Description__c":"If you have another insurer, please enter their details here","Section__c":"a2MO0000000JqDtMAK","Mark_it_as_Required__c":"false","Id":"a2NO00000001J3LMAU","Ignore_Required_Fields__c":"false","Component_Label__c":"Other Insurance Details","Navigation_Direction__c":"Forward","Object_Name__c":"Service_Request__c","Commit_the_Record__c":"false"},{"attributes":{"type":"Section_Detail__c","url":"/services/data/v29.0/sobjects/Section_Detail__c/a2NO00000001J1PMAU"},"Cancel_Request__c":"false","Field_API_Name__c":"Proposed_company_name3__c","hasOnChange__c":"false","Render_By_Default__c":"true","Disabled__c":"false","Order__c":4,"Component_Type__c":"Input Field","Name":"Proposed company name 3","Field_Description__c":"The proposed company name should be followed by the word (i.e. ABC3 COMPANY GEMS)","Section__c":"a2MO0000000JqDKMA0","Mark_it_as_Required__c":"true","Id":"a2NO00000001J1PMAU","Ignore_Required_Fields__c":"false","Component_Label__c":"Proposed Company Name 3","Navigation_Direction__c":"Forward","Object_Name__c":"Service_Request__c","Commit_the_Record__c":"false"},{"attributes":{"type":"Section_Detail__c","url":"/services/data/v29.0/sobjects/Section_Detail__c/a2NO00000001J2IMAU"},"Cancel_Request__c":"false","Field_API_Name__c":"Send_SMS_to_Mobile__c","hasOnChange__c":"false","Render_By_Default__c":"true","Disabled__c":"false","Order__c":4,"Component_Type__c":"Input Field","Name":"Mobile Number","Field_Description__c":"Please provide your mobile number. Only UAE mobile numbers will receive SMS updates regarding the new company application. (format +971 XXXX)","Section__c":"a2MO0000000JqDjMAK","Mark_it_as_Required__c":"true","Id":"a2NO00000001J2IMAU","Ignore_Required_Fields__c":"false","Component_Label__c":"Mobile Number","Navigation_Direction__c":"Forward","Object_Name__c":"Service_Request__c","Commit_the_Record__c":"false"},{"attributes":{"type":"Section_Detail__c","url":"/services/data/v29.0/sobjects/Section_Detail__c/a2NO00000001mkSMAQ"},"Cancel_Request__c":"false","Field_API_Name__c":"Company__c","hasOnChange__c":"true","Render_By_Default__c":"false","Disabled__c":"false","Order__c":5,"Component_Type__c":"Input Field","Name":"Consultant Company","Section__c":"a2MO0000000JqDjMAK","Mark_it_as_Required__c":"true","Id":"a2NO00000001mkSMAQ","Ignore_Required_Fields__c":"false","Component_Label__c":"Consultant Company","Navigation_Direction__c":"Forward","Object_Name__c":"Service_Request__c","Commit_the_Record__c":"false"},{"attributes":{"type":"Section_Detail__c","url":"/services/data/v29.0/sobjects/Section_Detail__c/a2NO00000001J23MAE"},"Cancel_Request__c":"false","Field_API_Name__c":"Parent_Company__c","hasOnChange__c":"false","Render_By_Default__c":"false","Disabled__c":"false","Order__c":5,"Component_Type__c":"Input Field","Name":"Parent Company Name","Section__c":"a2MO0000000JqDUMA0","Mark_it_as_Required__c":"true","Id":"a2NO00000001J23MAE","Ignore_Required_Fields__c":"false","Component_Label__c":"Parent Company Name","Navigation_Direction__c":"Forward","Object_Name__c":"Service_Request__c","Commit_the_Record__c":"false"},{"attributes":{"type":"Section_Detail__c","url":"/services/data/v29.0/sobjects/Section_Detail__c/a2NO00000001J1ZMAU"},"Cancel_Request__c":"false","Field_API_Name__c":"Operating_Name_L2L__c","hasOnChange__c":"false","Render_By_Default__c":"true","Disabled__c":"false","Order__c":5,"Component_Type__c":"Input Field","Name":"Operating Name","Field_Description__c":"The operating name is the name under which the company operates its business, which may differ from the company registered name.","Section__c":"a2MO0000000JqDKMA0","Mark_it_as_Required__c":"false","Id":"a2NO00000001J1ZMAU","Ignore_Required_Fields__c":"false","Component_Label__c":"Operating Name (Optional)","Navigation_Direction__c":"Forward","Object_Name__c":"Service_Request__c","Commit_the_Record__c":"false"},{"attributes":{"type":"Section_Detail__c","url":"/services/data/v29.0/sobjects/Section_Detail__c/a2NO00000001mkXMAQ"},"Cancel_Request__c":"false","Field_API_Name__c":"Name_of_Consultant_Company__c","hasOnChange__c":"false","Render_By_Default__c":"false","Disabled__c":"false","Order__c":6,"Component_Type__c":"Input Field","Name":"Name of Consultant Company","Section__c":"a2MO0000000JqDjMAK","Mark_it_as_Required__c":"false","Id":"a2NO00000001mkXMAQ","Ignore_Required_Fields__c":"false","Component_Label__c":"Name of Consultant Company","Navigation_Direction__c":"Forward","Object_Name__c":"Service_Request__c","Commit_the_Record__c":"false"},{"attributes":{"type":"Section_Detail__c","url":"/services/data/v29.0/sobjects/Section_Detail__c/a2NO00000001WXfMAM"},"Cancel_Request__c":"false","Field_API_Name__c":"Parent_Company_Name_without_suffix__c","hasOnChange__c":"false","Render_By_Default__c":"true","Disabled__c":"false","Order__c":6,"Component_Type__c":"Input Field","Name":"Parent Company Name (without suffix)","Section__c":"a2MO0000000JqDUMA0","Mark_it_as_Required__c":"true","Id":"a2NO00000001WXfMAM","Ignore_Required_Fields__c":"false","Component_Label__c":"Parent Company Name","Navigation_Direction__c":"Forward","Object_Name__c":"Service_Request__c","Commit_the_Record__c":"false"},{"attributes":{"type":"Section_Detail__c","url":"/services/data/v29.0/sobjects/Section_Detail__c/a2NO00000001mptMAA"},"Cancel_Request__c":"false","Field_API_Name__c":"Representative_Name__c","hasOnChange__c":"false","Render_By_Default__c":"false","Disabled__c":"false","Order__c":7,"Component_Type__c":"Input Field","Name":"Representative Name","Section__c":"a2MO0000000JqDjMAK","Mark_it_as_Required__c":"false","Id":"a2NO00000001mptMAA","Ignore_Required_Fields__c":"false","Component_Label__c":"Representative Name","Navigation_Direction__c":"Forward","Object_Name__c":"Service_Request__c","Commit_the_Record__c":"false"},{"attributes":{"type":"Section_Detail__c","url":"/services/data/v29.0/sobjects/Section_Detail__c/a2NO00000001J2NMAU"},"Cancel_Request__c":"false","Field_API_Name__c":"Specify_the_reason_for_request_Additio__c","hasOnChange__c":"false","Render_By_Default__c":"true","Disabled__c":"false","Order__c":7,"Component_Type__c":"Input Field","Name":"Customer Comments","Field_Description__c":"(Optional)","Section__c":"a2MO0000000JqDjMAK","Mark_it_as_Required__c":"false","Id":"a2NO00000001J2NMAU","Ignore_Required_Fields__c":"false","Component_Label__c":"Customer Comments","Navigation_Direction__c":"Forward","Object_Name__c":"Service_Request__c","Commit_the_Record__c":"false"},{"attributes":{"type":"Section_Detail__c","url":"/services/data/v29.0/sobjects/Section_Detail__c/a2NO00000001J1jMAE"},"Cancel_Request__c":"false","Field_API_Name__c":"Registration_License_No__c","hasOnChange__c":"false","Render_By_Default__c":"true","Disabled__c":"false","Order__c":7,"Component_Type__c":"Input Field","Name":"Registration / License No","Section__c":"a2MO0000000JqDUMA0","Mark_it_as_Required__c":"true","Id":"a2NO00000001J1jMAE","Ignore_Required_Fields__c":"false","Component_Label__c":"Registration / License Number","Navigation_Direction__c":"Forward","Object_Name__c":"Service_Request__c","Commit_the_Record__c":"false"},{"attributes":{"type":"Section_Detail__c","url":"/services/data/v29.0/sobjects/Section_Detail__c/a2NO00000001J1eMAE"},"Cancel_Request__c":"false","Field_API_Name__c":"Country_Of_Issue__c","hasOnChange__c":"false","Render_By_Default__c":"true","Disabled__c":"false","Order__c":8,"Component_Type__c":"Input Field","Name":"Country of Issue","Section__c":"a2MO0000000JqDUMA0","Mark_it_as_Required__c":"true","Id":"a2NO00000001J1eMAE","Ignore_Required_Fields__c":"false","Component_Label__c":"Country of Issue","Navigation_Direction__c":"Forward","Object_Name__c":"Service_Request__c","Commit_the_Record__c":"false"},{"attributes":{"type":"Section_Detail__c","url":"/services/data/v29.0/sobjects/Section_Detail__c/a2NO00000001J1oMAE"},"Cancel_Request__c":"false","Field_API_Name__c":"Issuing_Authority_Name__c","hasOnChange__c":"false","Render_By_Default__c":"true","Disabled__c":"false","Order__c":9,"Component_Type__c":"Input Field","Name":"Issuing Authority Name","Field_Description__c":"Please click to select","Section__c":"a2MO0000000JqDUMA0","Mark_it_as_Required__c":"true","Id":"a2NO00000001J1oMAE","Ignore_Required_Fields__c":"false","Component_Label__c":"Issuing Authority Name","Navigation_Direction__c":"Forward","Object_Name__c":"Service_Request__c","Commit_the_Record__c":"false"}],"lstSecDeatilRules":[{"attributes":{"type":"Page_Navigation_Rule__c","url":"/services/data/v29.0/sobjects/Page_Navigation_Rule__c/a2QO0000000QGbNMAW"},"Name":"PNR-000013","Rule_Name__c":"Disabled Button after Submitted","Section_Detail__c":"a2NO00000001ejpMAA","Rule_Condition__c":"1 AND 2","Id":"a2QO0000000QGbNMAW","Rule_Text_Condition__c":"Service_Request__c->Internal_Status_Name__c#!=#null#AND#Service_Request__c->Internal_Status_Name__c#!=#Draft"},{"attributes":{"type":"Page_Navigation_Rule__c","url":"/services/data/v29.0/sobjects/Page_Navigation_Rule__c/a2QO0000000QGbSMAW"},"Name":"PNR-000014","Rule_Name__c":"Confirm Button hide after Submission","Section_Detail__c":"a2NO00000001J4OMAU","Rule_Condition__c":"1","Id":"a2QO0000000QGbSMAW","Rule_Text_Condition__c":"Service_Request__c->Internal_Status_Name__c#=#Draft","Rule_Description__c":"Confirm Button hide after Submission"},{"attributes":{"type":"Page_Navigation_Rule__c","url":"/services/data/v29.0/sobjects/Page_Navigation_Rule__c/a2QO0000000QGbXMAW"},"Name":"PNR-000015","Rule_Name__c":"Pending Actions Rendering","Section_Detail__c":"a2NO00000001f71MAA","Rule_Condition__c":"1 AND 2","Id":"a2QO0000000QGbXMAW","Rule_Text_Condition__c":"Service_Request__c->Internal_Status_Name__c#!=#null#AND#Service_Request__c->Internal_Status_Name__c#!=#Draft","Rule_Description__c":"Pending Actions Rendering"},{"attributes":{"type":"Page_Navigation_Rule__c","url":"/services/data/v29.0/sobjects/Page_Navigation_Rule__c/a2QO0000000QGPEMA4"},"Name":"PNR-000011","Rule_Name__c":"Next Button display","Section_Detail__c":"a2NO00000001NYPMA2","Rule_Condition__c":"1 or 2","Id":"a2QO0000000QGPEMA4","Rule_Text_Condition__c":"Service_Request__c->Internal_Status_Name__c#=#null#OR#Service_Request__c->Internal_Status_Name__c#=#Draft","Rule_Description__c":"Rule to hide the next button when the SR is submitted"},{"attributes":{"type":"Page_Navigation_Rule__c","url":"/services/data/v29.0/sobjects/Page_Navigation_Rule__c/a2QO0000000QHHTMA4"},"Name":"PNR-000018","Rule_Name__c":"Navigate to Share Holding If New Company","Section_Detail__c":"a2NO00000001J44MAE","Rule_Condition__c":"1","Id":"a2QO0000000QHHTMA4","Rule_Text_Condition__c":"Service_Request__c->Company_Type__c#!=#Branch","Rule_Description__c":"Navigate to Share Holding If New Company"},{"attributes":{"type":"Page_Navigation_Rule__c","url":"/services/data/v29.0/sobjects/Page_Navigation_Rule__c/a2QO0000000QHHYMA4"},"Name":"PNR-000019","Rule_Name__c":"Navigate to Appointed Officers If Branch","Section_Detail__c":"a2NO00000001J44MAE","Rule_Condition__c":"1","Id":"a2QO0000000QHHYMA4","Rule_Text_Condition__c":"Service_Request__c->Company_Type__c#=#Branch","Rule_Description__c":"Navigate to Appointed Officers If Branch"},{"attributes":{"type":"Page_Navigation_Rule__c","url":"/services/data/v29.0/sobjects/Page_Navigation_Rule__c/a2QO0000000QHHdMAO"},"Name":"PNR-000020","Rule_Name__c":"Navigate to Shareholder incase of New Company","Section_Detail__c":"a2NO00000001J49MAE","Rule_Condition__c":"1","Id":"a2QO0000000QHHdMAO","Rule_Text_Condition__c":"Service_Request__c->Company_Type__c#!=#Branch","Rule_Description__c":"Navigate to Shareholder incase of New Company"},{"attributes":{"type":"Page_Navigation_Rule__c","url":"/services/data/v29.0/sobjects/Page_Navigation_Rule__c/a2QO0000000QHHiMAO"},"Name":"PNR-000021","Rule_Name__c":"Navigate to Licensing incase of Branch","Section_Detail__c":"a2NO00000001J49MAE","Rule_Condition__c":"1","Id":"a2QO0000000QHHiMAO","Rule_Text_Condition__c":"Service_Request__c->Company_Type__c#=#Branch","Rule_Description__c":"Navigate to Licensing incase of Branch"},{"attributes":{"type":"Page_Navigation_Rule__c","url":"/services/data/v29.0/sobjects/Page_Navigation_Rule__c/a2QO0000000QHyvMAG"},"Name":"PNR-000022","Rule_Name__c":"Navigate to Home Page","Section_Detail__c":"a2NO00000001mASMAY","Rule_Condition__c":"1","Id":"a2QO0000000QHyvMAG","Rule_Text_Condition__c":"Service_Request__c->finalizeAmendmentFlg__c#=#True","Rule_Description__c":"Navigate to Home Page"},{"attributes":{"type":"Page_Navigation_Rule__c","url":"/services/data/v29.0/sobjects/Page_Navigation_Rule__c/a2QO0000000QIOQMA4"},"Name":"PNR-000025","Rule_Name__c":"Name of Consultant Company","Section_Detail__c":"a2NO00000001mkXMAQ","Rule_Condition__c":"1 AND 2","Id":"a2QO0000000QIOQMA4","Rule_Text_Condition__c":"Service_Request__c->Company__c#=#Others#AND#Service_Request__c->Are_you_a_Consultant__c#=#true","Rule_Description__c":"Name of Consultant Company if others"},{"attributes":{"type":"Page_Navigation_Rule__c","url":"/services/data/v29.0/sobjects/Page_Navigation_Rule__c/a2QO0000000QIOLMA4"},"Name":"PNR-000024","Rule_Name__c":"Consultant Company Name","Section_Detail__c":"a2NO00000001mkSMAQ","Rule_Condition__c":"1","Id":"a2QO0000000QIOLMA4","Rule_Text_Condition__c":"Service_Request__c->Are_you_a_Consultant__c#=#true","Rule_Description__c":"Consultant Company Namr"},{"attributes":{"type":"Page_Navigation_Rule__c","url":"/services/data/v29.0/sobjects/Page_Navigation_Rule__c/a2QO0000000QIV7MAO"},"Name":"PNR-000026","Rule_Name__c":"Representative Name","Section_Detail__c":"a2NO00000001mptMAA","Rule_Condition__c":"1","Id":"a2QO0000000QIV7MAO","Rule_Text_Condition__c":"Service_Request__c->Are_you_a_Consultant__c#=#true","Rule_Description__c":"Representative name if consultant"},{"attributes":{"type":"Page_Navigation_Rule__c","url":"/services/data/v29.0/sobjects/Page_Navigation_Rule__c/a2QO0000000QEMtMAO"},"Name":"PNR-000006","Rule_Name__c":"Correspondence Email Display Rule","Section_Detail__c":"a2NO00000001J2SMAU","Rule_Condition__c":"1","Id":"a2QO0000000QEMtMAO","Rule_Text_Condition__c":"Service_Request__c->Are_you_a_Consultant__c#=#false"},{"attributes":{"type":"Page_Navigation_Rule__c","url":"/services/data/v29.0/sobjects/Page_Navigation_Rule__c/a2QO0000000QEMjMAO"},"Name":"PNR-000004","Rule_Name__c":"ren","Section_Detail__c":"a2NO00000001J0lMAE","Id":"a2QO0000000QEMjMAO"},{"attributes":{"type":"Page_Navigation_Rule__c","url":"/services/data/v29.0/sobjects/Page_Navigation_Rule__c/a2QO0000000QEMoMAO"},"Name":"PNR-000005","Rule_Name__c":"Agent correspondence Email display rule","Section_Detail__c":"a2NO00000001RUwMAM","Rule_Condition__c":"1","Id":"a2QO0000000QEMoMAO","Rule_Text_Condition__c":"Service_Request__c->Are_you_a_Consultant__c#=#True"},{"attributes":{"type":"Page_Navigation_Rule__c","url":"/services/data/v29.0/sobjects/Page_Navigation_Rule__c/a2QO0000000QENuMAO"},"Name":"PNR-000008","Rule_Name__c":"Review Prev Button Rule","Section_Detail__c":"a2NO00000001J4JMAU","Rule_Condition__c":"1","Id":"a2QO0000000QENuMAO","Rule_Text_Condition__c":"Service_Request__c->Internal_Status_Name__c#=#Draft"}],"lstRuleConds":[{"attributes":{"type":"Page_Flow_Condition__c","url":"/services/data/v29.0/sobjects/Page_Flow_Condition__c/a2PO0000000KSfcMAG"},"Name":"Cond-000015","Page_Navigation_Rule__c":"a2QO0000000QGPJMA4","S_No__c":1,"Operator__c":"=","Condition_Type__c":"Section Render","Field_Name__c":"Internal_Status_Name__c","Id":"a2PO0000000KSfcMAG","Value__c":"Draft","Flow_Id__c":"a2LO0000000UPA5","Object_Name__c":"Service_Request__c"},{"attributes":{"type":"Page_Flow_Condition__c","url":"/services/data/v29.0/sobjects/Page_Flow_Condition__c/a2PO0000000KSfdMAG"},"Name":"Cond-000016","Page_Navigation_Rule__c":"a2QO0000000QGPJMA4","S_No__c":2,"Operator__c":"=","Condition_Type__c":"Section Render","Field_Name__c":"Internal_Status_Name__c","Id":"a2PO0000000KSfdMAG","Flow_Id__c":"a2LO0000000UPA5","Object_Name__c":"Service_Request__c"},{"attributes":{"type":"Page_Flow_Condition__c","url":"/services/data/v29.0/sobjects/Page_Flow_Condition__c/a2PO0000000KSfXMAW"},"Name":"Cond-000013","Page_Navigation_Rule__c":"a2QO0000000QGPEMA4","S_No__c":1,"Operator__c":"=","Condition_Type__c":"Section Render","Field_Name__c":"Internal_Status_Name__c","Id":"a2PO0000000KSfXMAW","Value__c":"null","Flow_Id__c":"a2LO0000000UPA5","Object_Name__c":"Service_Request__c"},{"attributes":{"type":"Page_Flow_Condition__c","url":"/services/data/v29.0/sobjects/Page_Flow_Condition__c/a2PO0000000KSfYMAW"},"Name":"Cond-000014","Page_Navigation_Rule__c":"a2QO0000000QGPEMA4","S_No__c":2,"Operator__c":"=","Condition_Type__c":"Section Render","Field_Name__c":"Internal_Status_Name__c","Id":"a2PO0000000KSfYMAW","Value__c":"Draft","Flow_Id__c":"a2LO0000000UPA5","Object_Name__c":"Service_Request__c"},{"attributes":{"type":"Page_Flow_Condition__c","url":"/services/data/v29.0/sobjects/Page_Flow_Condition__c/a2PO0000000KSwSMAW"},"Name":"Cond-000022","Page_Navigation_Rule__c":"a2QO0000000QGbXMAW","S_No__c":1,"Operator__c":"!=","Condition_Type__c":"Section Render","Field_Name__c":"Internal_Status_Name__c","Id":"a2PO0000000KSwSMAW","Flow_Id__c":"a2LO0000000UPA5","Object_Name__c":"Service_Request__c"},{"attributes":{"type":"Page_Flow_Condition__c","url":"/services/data/v29.0/sobjects/Page_Flow_Condition__c/a2PO0000000KSwTMAW"},"Name":"Cond-000023","Page_Navigation_Rule__c":"a2QO0000000QGbXMAW","S_No__c":2,"Operator__c":"!=","Condition_Type__c":"Section Render","Field_Name__c":"Internal_Status_Name__c","Id":"a2PO0000000KSwTMAW","Value__c":"Draft","Flow_Id__c":"a2LO0000000UPA5","Object_Name__c":"Service_Request__c"},{"attributes":{"type":"Page_Flow_Condition__c","url":"/services/data/v29.0/sobjects/Page_Flow_Condition__c/a2PO0000000KSwJMAW"},"Name":"Cond-000020","Page_Navigation_Rule__c":"a2QO0000000QENuMAO","S_No__c":1,"Operator__c":"=","Condition_Type__c":"Section Render","Field_Name__c":"Internal_Status_Name__c","Id":"a2PO0000000KSwJMAW","Value__c":"Draft","Flow_Id__c":"a2LO0000000UPA5","Object_Name__c":"Service_Request__c"},{"attributes":{"type":"Page_Flow_Condition__c","url":"/services/data/v29.0/sobjects/Page_Flow_Condition__c/a2PO0000000KSwDMAW"},"Name":"Cond-000017","Page_Navigation_Rule__c":"a2QO0000000QGbNMAW","S_No__c":1,"Operator__c":"!=","Condition_Type__c":"Section Render","Field_Name__c":"Internal_Status_Name__c","Id":"a2PO0000000KSwDMAW","Flow_Id__c":"a2LO0000000UPA5","Object_Name__c":"Service_Request__c"},{"attributes":{"type":"Page_Flow_Condition__c","url":"/services/data/v29.0/sobjects/Page_Flow_Condition__c/a2PO0000000KSwEMAW"},"Name":"Cond-000018","Page_Navigation_Rule__c":"a2QO0000000QGbNMAW","S_No__c":2,"Operator__c":"!=","Condition_Type__c":"Section Render","Field_Name__c":"Internal_Status_Name__c","Id":"a2PO0000000KSwEMAW","Value__c":"Draft","Flow_Id__c":"a2LO0000000UPA5","Object_Name__c":"Service_Request__c"},{"attributes":{"type":"Page_Flow_Condition__c","url":"/services/data/v29.0/sobjects/Page_Flow_Condition__c/a2PO0000000KSwNMAW"},"Name":"Cond-000021","Page_Navigation_Rule__c":"a2QO0000000QGbSMAW","S_No__c":1,"Operator__c":"=","Condition_Type__c":"Section Render","Field_Name__c":"Internal_Status_Name__c","Id":"a2PO0000000KSwNMAW","Value__c":"Draft","Flow_Id__c":"a2LO0000000UPA5","Object_Name__c":"Service_Request__c"},{"attributes":{"type":"Page_Flow_Condition__c","url":"/services/data/v29.0/sobjects/Page_Flow_Condition__c/a2PO0000000kfwVMAQ"},"Name":"Cond-000025","Page_Navigation_Rule__c":"a2QO0000000QHHOMA4","S_No__c":1,"Operator__c":"!=","Condition_Type__c":"Page Render","Field_Name__c":"Company_Type__c","Id":"a2PO0000000kfwVMAQ","Value__c":"Branch","Flow_Id__c":"a2LO0000000UPA5","Object_Name__c":"Service_Request__c"},{"attributes":{"type":"Page_Flow_Condition__c","url":"/services/data/v29.0/sobjects/Page_Flow_Condition__c/a2PO0000000kg2iMAA"},"Name":"Cond-000027","Page_Navigation_Rule__c":"a2QO0000000QHHYMA4","S_No__c":1,"Operator__c":"=","Condition_Type__c":"Button Action","Field_Name__c":"Company_Type__c","Id":"a2PO0000000kg2iMAA","Value__c":"Branch","Flow_Id__c":"a2LO0000000UPA5","Object_Name__c":"Service_Request__c"},{"attributes":{"type":"Page_Flow_Condition__c","url":"/services/data/v29.0/sobjects/Page_Flow_Condition__c/a2PO0000000kg5NMAQ"},"Name":"Cond-000029","Page_Navigation_Rule__c":"a2QO0000000QHHiMAO","S_No__c":1,"Operator__c":"=","Condition_Type__c":"Button Action","Field_Name__c":"Company_Type__c","Id":"a2PO0000000kg5NMAQ","Value__c":"Branch","Flow_Id__c":"a2LO0000000UPA5","Object_Name__c":"Service_Request__c"},{"attributes":{"type":"Page_Flow_Condition__c","url":"/services/data/v29.0/sobjects/Page_Flow_Condition__c/a2PO0000000kuANMAY"},"Name":"Cond-000030","Page_Navigation_Rule__c":"a2QO0000000QHyvMAG","S_No__c":1,"Operator__c":"=","Condition_Type__c":"Button Action","Field_Name__c":"finalizeAmendmentFlg__c","Id":"a2PO0000000kuANMAY","Value__c":"True","Flow_Id__c":"a2LO0000000UPA5","Object_Name__c":"Service_Request__c"},{"attributes":{"type":"Page_Flow_Condition__c","url":"/services/data/v29.0/sobjects/Page_Flow_Condition__c/a2PO0000000l5ewMAA"},"Name":"Cond-000033","Page_Navigation_Rule__c":"a2QO0000000QIOLMA4","S_No__c":1,"Operator__c":"=","Condition_Type__c":"Section Render","Field_Name__c":"Are_you_a_Consultant__c","Id":"a2PO0000000l5ewMAA","Value__c":"true","Flow_Id__c":"a2LO0000000UPA5","Object_Name__c":"Service_Request__c"},{"attributes":{"type":"Page_Flow_Condition__c","url":"/services/data/v29.0/sobjects/Page_Flow_Condition__c/a2PO0000000l5hCMAQ"},"Name":"Cond-000034","Page_Navigation_Rule__c":"a2QO0000000QIOQMA4","S_No__c":1,"Operator__c":"=","Condition_Type__c":"Section Render","Field_Name__c":"Company__c","Id":"a2PO0000000l5hCMAQ","Value__c":"Others","Flow_Id__c":"a2LO0000000UPA5","Object_Name__c":"Service_Request__c"},{"attributes":{"type":"Page_Flow_Condition__c","url":"/services/data/v29.0/sobjects/Page_Flow_Condition__c/a2PO0000000l5hDMAQ"},"Name":"Cond-000035","Page_Navigation_Rule__c":"a2QO0000000QIOQMA4","S_No__c":2,"Operator__c":"=","Condition_Type__c":"Section Render","Field_Name__c":"Are_you_a_Consultant__c","Id":"a2PO0000000l5hDMAQ","Value__c":"true","Flow_Id__c":"a2LO0000000UPA5","Object_Name__c":"Service_Request__c"},{"attributes":{"type":"Page_Flow_Condition__c","url":"/services/data/v29.0/sobjects/Page_Flow_Condition__c/a2PO0000000kg53MAA"},"Name":"Cond-000028","Page_Navigation_Rule__c":"a2QO0000000QHHdMAO","S_No__c":1,"Operator__c":"!=","Condition_Type__c":"Button Action","Field_Name__c":"Company_Type__c","Id":"a2PO0000000kg53MAA","Value__c":"Branch","Flow_Id__c":"a2LO0000000UPA5","Object_Name__c":"Service_Request__c"},{"attributes":{"type":"Page_Flow_Condition__c","url":"/services/data/v29.0/sobjects/Page_Flow_Condition__c/a2PO0000000kg24MAA"},"Name":"Cond-000026","Page_Navigation_Rule__c":"a2QO0000000QHHTMA4","S_No__c":1,"Operator__c":"!=","Condition_Type__c":"Button Action","Field_Name__c":"Company_Type__c","Id":"a2PO0000000kg24MAA","Value__c":"Branch","Flow_Id__c":"a2LO0000000UPA5","Object_Name__c":"Service_Request__c"},{"attributes":{"type":"Page_Flow_Condition__c","url":"/services/data/v29.0/sobjects/Page_Flow_Condition__c/a2PO0000000l7z0MAA"},"Name":"Cond-000036","Page_Navigation_Rule__c":"a2QO0000000QIV7MAO","S_No__c":1,"Operator__c":"=","Condition_Type__c":"Section Render","Field_Name__c":"Are_you_a_Consultant__c","Id":"a2PO0000000l7z0MAA","Value__c":"true","Flow_Id__c":"a2LO0000000UPA5","Object_Name__c":"Service_Request__c"},{"attributes":{"type":"Page_Flow_Condition__c","url":"/services/data/v29.0/sobjects/Page_Flow_Condition__c/a2PO0000000KLgqMAG"},"Name":"Cond-000003","Page_Navigation_Rule__c":"a2QO0000000QC0pMAG","S_No__c":1,"Operator__c":"!=","Condition_Type__c":"Section Render","Field_Name__c":"Company_Type__c","Id":"a2PO0000000KLgqMAG","Value__c":"Branch","Flow_Id__c":"a2LO0000000UPA5","Object_Name__c":"Service_Request__c"},{"attributes":{"type":"Page_Flow_Condition__c","url":"/services/data/v29.0/sobjects/Page_Flow_Condition__c/a2PO0000000KM0QMAW"},"Name":"Cond-000005","Page_Navigation_Rule__c":"a2QO0000000QCGnMAO","S_No__c":1,"Operator__c":"=","Condition_Type__c":"Section Render","Field_Name__c":"Company_Type__c","Id":"a2PO0000000KM0QMAW","Value__c":"Branch","Flow_Id__c":"a2LO0000000UPA5","Object_Name__c":"Service_Request__c"},{"attributes":{"type":"Page_Flow_Condition__c","url":"/services/data/v29.0/sobjects/Page_Flow_Condition__c/a2PO0000000KQOLMA4"},"Name":"Cond-000009","Page_Navigation_Rule__c":"a2QO0000000QEMyMAO","S_No__c":1,"Operator__c":"=","Condition_Type__c":"Section Render","Field_Name__c":"Company_Type__c","Id":"a2PO0000000KQOLMA4","Value__c":"New Company","Flow_Id__c":"a2LO0000000UPA5","Object_Name__c":"Service_Request__c"},{"attributes":{"type":"Page_Flow_Condition__c","url":"/services/data/v29.0/sobjects/Page_Flow_Condition__c/a2PO0000000KQOGMA4"},"Name":"Cond-000008","Page_Navigation_Rule__c":"a2QO0000000QEMtMAO","S_No__c":1,"Operator__c":"=","Condition_Type__c":"Section Render","Field_Name__c":"Are_you_a_Consultant__c","Id":"a2PO0000000KQOGMA4","Value__c":"false","Flow_Id__c":"a2LO0000000UPA5","Object_Name__c":"Service_Request__c"},{"attributes":{"type":"Page_Flow_Condition__c","url":"/services/data/v29.0/sobjects/Page_Flow_Condition__c/a2PO0000000KQOBMA4"},"Name":"Cond-000007","Page_Navigation_Rule__c":"a2QO0000000QEMoMAO","S_No__c":1,"Operator__c":"=","Condition_Type__c":"Section Render","Field_Name__c":"Are_you_a_Consultant__c","Id":"a2PO0000000KQOBMA4","Value__c":"True","Flow_Id__c":"a2LO0000000UPA5","Object_Name__c":"Service_Request__c"},{"attributes":{"type":"Page_Flow_Condition__c","url":"/services/data/v29.0/sobjects/Page_Flow_Condition__c/a2PO0000000KQT6MAO"},"Name":"Cond-000011","Page_Navigation_Rule__c":"a2QO0000000QEOTMA4","S_No__c":1,"Operator__c":"=","Condition_Type__c":"Section Render","Field_Name__c":"Company_Type__c","Id":"a2PO0000000KQT6MAO","Value__c":"New Company","Flow_Id__c":"a2LO0000000UPA5","Object_Name__c":"Service_Request__c"},{"attributes":{"type":"Page_Flow_Condition__c","url":"/services/data/v29.0/sobjects/Page_Flow_Condition__c/a2PO0000000DGp0MAG"},"Name":"Cond-000012","Page_Navigation_Rule__c":"a2QO0000000EDueMAG","S_No__c":1,"Operator__c":"=","Condition_Type__c":"Section Render","Field_Name__c":"Internal_Status_Name__c","Id":"a2PO0000000DGp0MAG","Value__c":"Draft","Flow_Id__c":"a2LO0000000UPA5","Object_Name__c":"Service_Request__c"}],"lstRuleActions":[{"attributes":{"type":"Page_Flow_Action__c","url":"/services/data/v29.0/sobjects/Page_Flow_Action__c/a2OO00000001pp3MAA"},"Name":"Actn-000019","Page_Navigation_Rule__c":"a2QO0000000QGPEMA4","Page__c":"a2KO0000000YD6mMAG","S_No__c":1,"Is_Custom_Component__c":"false","Id":"a2OO00000001pp3MAA"},{"attributes":{"type":"Page_Flow_Action__c","url":"/services/data/v29.0/sobjects/Page_Flow_Action__c/a2OO00000001rRHMAY"},"Name":"Actn-000022","Page_Navigation_Rule__c":"a2QO0000000QGbSMAW","Page__c":"a2KO0000000YD8OMAW","S_No__c":1,"Is_Custom_Component__c":"false","Id":"a2OO00000001rRHMAY"},{"attributes":{"type":"Page_Flow_Action__c","url":"/services/data/v29.0/sobjects/Page_Flow_Action__c/a2OO00000001rQxMAI"},"Name":"Actn-000020","Page_Navigation_Rule__c":"a2QO0000000QGbNMAW","Page__c":"a2KO0000000YD8JMAW","S_No__c":1,"Is_Custom_Component__c":"false","Id":"a2OO00000001rQxMAI"},{"attributes":{"type":"Page_Flow_Action__c","url":"/services/data/v29.0/sobjects/Page_Flow_Action__c/a2OO00000001rR2MAI"},"Name":"Actn-000021","Page_Navigation_Rule__c":"a2QO0000000QGbXMAW","Page__c":"a2KO0000000YOJ1MAO","S_No__c":1,"Is_Custom_Component__c":"false","Id":"a2OO00000001rR2MAI"},{"attributes":{"type":"Page_Flow_Action__c","url":"/services/data/v29.0/sobjects/Page_Flow_Action__c/a2OO00000001x5zMAA"},"Name":"Actn-000024","Page_Navigation_Rule__c":"a2QO0000000QHHYMA4","Page__c":"a2KO0000000YD8EMAW","S_No__c":1,"Is_Custom_Component__c":"false","Id":"a2OO00000001x5zMAA"},{"attributes":{"type":"Page_Flow_Action__c","url":"/services/data/v29.0/sobjects/Page_Flow_Action__c/a2OO00000001x69MAA"},"Name":"Actn-000026","Page_Navigation_Rule__c":"a2QO0000000QHHiMAO","Page__c":"a2KO0000000YD7pMAG","S_No__c":1,"Is_Custom_Component__c":"false","Id":"a2OO00000001x69MAA"},{"attributes":{"type":"Page_Flow_Action__c","url":"/services/data/v29.0/sobjects/Page_Flow_Action__c/a2OO00000001xT0MAI"},"Name":"Actn-000027","Page_Navigation_Rule__c":"a2QO0000000QHyvMAG","Page__c":"a2KO0000000YOJ1MAO","S_No__c":1,"Is_Custom_Component__c":"false","Id":"a2OO00000001xT0MAI"},{"attributes":{"type":"Page_Flow_Action__c","url":"/services/data/v29.0/sobjects/Page_Flow_Action__c/a2OO00000001x64MAA"},"Name":"Actn-000025","Page_Navigation_Rule__c":"a2QO0000000QHHdMAO","Page__c":"a2KO0000000YD89MAG","S_No__c":1,"Is_Custom_Component__c":"false","Id":"a2OO00000001x64MAA"},{"attributes":{"type":"Page_Flow_Action__c","url":"/services/data/v29.0/sobjects/Page_Flow_Action__c/a2OO00000001x5uMAA"},"Name":"Actn-000023","Page_Navigation_Rule__c":"a2QO0000000QHHTMA4","Page__c":"a2KO0000000YD89MAG","S_No__c":1,"Is_Custom_Component__c":"false","Id":"a2OO00000001x5uMAA"},{"attributes":{"type":"Page_Flow_Action__c","url":"/services/data/v29.0/sobjects/Page_Flow_Action__c/a2OO00000001lVLMAY"},"Name":"Actn-000018","Page_Navigation_Rule__c":"a2QO0000000QENuMAO","Page__c":"a2KO0000000YD7kMAG","S_No__c":1,"Is_Custom_Component__c":"false","Id":"a2OO00000001lVLMAY"}],"lstPgRules":[{"attributes":{"type":"Page_Navigation_Rule__c","url":"/services/data/v29.0/sobjects/Page_Navigation_Rule__c/a2QO0000000QHHOMA4"},"Name":"PNR-000017","Page__c":"a2KO0000000YD89MAG","Rule_Name__c":"Shareholding Render rules","Rule_Condition__c":"1","Id":"a2QO0000000QHHOMA4","Rule_Text_Condition__c":"Service_Request__c->Company_Type__c#!=#Branch","Rule_Description__c":"Shareholding will be available only in case of New Company"}],"lstPages":[{"attributes":{"type":"Page__c","url":"/services/data/v29.0/sobjects/Page__c/a2KO0000000YOJ1MAO"},"Name":"Home","VF_Page_API_Name__c":"InstructionsPage","Page_Order__c":1,"No_Quick_navigation__c":"false","Page_Flow__c":"a2LO0000000UPA5MAO","What_Id__c":"Service_Request__c","Is_Custom_Component__c":"true","Id":"a2KO0000000YOJ1MAO","Render_By_Default__c":"true","Page_Description__c":"General Instructions of the lead to license process."},{"attributes":{"type":"Page__c","url":"/services/data/v29.0/sobjects/Page__c/a2KO0000000YD6mMAG"},"Name":"Company Details","Page_Order__c":2,"No_Quick_navigation__c":"false","Page_Flow__c":"a2LO0000000UPA5MAO","Is_Custom_Component__c":"false","Id":"a2KO0000000YD6mMAG","Render_By_Default__c":"true","Page_Description__c":"New Company Application Form"},{"attributes":{"type":"Page__c","url":"/services/data/v29.0/sobjects/Page__c/a2KO0000000YD7pMAG"},"Name":"License & Activity","VF_Page_API_Name__c":"Manage_Licenses","Page_Order__c":3,"No_Quick_navigation__c":"false","Page_Flow__c":"a2LO0000000UPA5MAO","Page_Title__c":"License & Activity","What_Id__c":"Service_Request__c","Is_Custom_Component__c":"true","Id":"a2KO0000000YD7pMAG","Render_By_Default__c":"true","Page_Description__c":"Company Application Number:"},{"attributes":{"type":"Page__c","url":"/services/data/v29.0/sobjects/Page__c/a2KO0000000YD89MAG"},"Name":"Shareholding Structure","VF_Page_API_Name__c":"Shareholder_Details","Page_Order__c":4,"No_Quick_navigation__c":"false","Page_Flow__c":"a2LO0000000UPA5MAO","What_Id__c":"Service_Request__c","Is_Custom_Component__c":"true","Id":"a2KO0000000YD89MAG","Render_By_Default__c":"false","Page_Description__c":"Company Application Number:"},{"attributes":{"type":"Page__c","url":"/services/data/v29.0/sobjects/Page__c/a2KO0000000YD8EMAW"},"Name":"Appointed Company Officers","VF_Page_API_Name__c":"KeyRoles","Page_Order__c":5,"No_Quick_navigation__c":"false","Page_Flow__c":"a2LO0000000UPA5MAO","Page_Title__c":"Appointed Company Officers (Director/ Manager/ Secretary/ Legal Representative)","What_Id__c":"Service_Request__c","Is_Custom_Component__c":"true","Id":"a2KO0000000YD8EMAW","Render_By_Default__c":"true","Page_Description__c":"Company Application Number:"},{"attributes":{"type":"Page__c","url":"/services/data/v29.0/sobjects/Page__c/a2KO0000000YD7kMAG"},"Name":"Value Added Services","Page_Order__c":6,"No_Quick_navigation__c":"false","Page_Flow__c":"a2LO0000000UPA5MAO","Is_Custom_Component__c":"false","Id":"a2KO0000000YD7kMAG","Render_By_Default__c":"true","Page_Description__c":"Details of the value added services."},{"attributes":{"type":"Page__c","url":"/services/data/v29.0/sobjects/Page__c/a2KO0000000YD8JMAW"},"Name":"Review and Confirm Details","VF_Page_API_Name__c":"Review_Finalise","Page_Order__c":7,"No_Quick_navigation__c":"false","Page_Flow__c":"a2LO0000000UPA5MAO","What_Id__c":"Service_Request__c","Is_Custom_Component__c":"true","Id":"a2KO0000000YD8JMAW","Render_By_Default__c":"true","Page_Description__c":"<p><b>Please review the information provided and finalise your company application.</b></p><p><b>Note:</b> Please ensure that all information is correct before you click. Please note that once you confirm, there will be no further editing.</p><p><b>"},{"attributes":{"type":"Page__c","url":"/services/data/v29.0/sobjects/Page__c/a2KO0000000YD8OMAW"},"Name":"Upload Documents","VF_Page_API_Name__c":"DocumentUpload","Page_Order__c":8,"No_Quick_navigation__c":"true","Page_Flow__c":"a2LO0000000UPA5MAO","What_Id__c":"Service_Request__c","Is_Custom_Component__c":"true","Id":"a2KO0000000YD8OMAW","Render_By_Default__c":"true","Page_Description__c":"Upload Documents"},{"attributes":{"type":"Page__c","url":"/services/data/v29.0/sobjects/Page__c/a2KO0000000YD8TMAW"},"Name":"Pay & Submit your Application","VF_Page_API_Name__c":"Submit_SR","Page_Order__c":9,"No_Quick_navigation__c":"true","Page_Flow__c":"a2LO0000000UPA5MAO","What_Id__c":"Service_Request__c","Is_Custom_Component__c":"true","Id":"a2KO0000000YD8TMAW","Render_By_Default__c":"true","Page_Description__c":"Company Application Number:"}],"lstNavigRules":[],"lstBtnActions":[{"attributes":{"type":"Page_Flow_Action__c","url":"/services/data/v29.0/sobjects/Page_Flow_Action__c/a2OO00000001XZxMAM"},"Name":"Actn-000003","Page__c":"a2KO0000000YD8JMAW","Section_Detail__c":"a2NO00000001J2hMAE","Is_Custom_Component__c":"true","Id":"a2OO00000001XZxMAM"},{"attributes":{"type":"Page_Flow_Action__c","url":"/services/data/v29.0/sobjects/Page_Flow_Action__c/a2OO00000001XeAMAU"},"Name":"Actn-000015","Page__c":"a2KO0000000YD89MAG","Section_Detail__c":"a2NO00000001J49MAE","Is_Custom_Component__c":"true","Id":"a2OO00000001XeAMAU"},{"attributes":{"type":"Page_Flow_Action__c","url":"/services/data/v29.0/sobjects/Page_Flow_Action__c/a2OO00000001XZsMAM"},"Name":"Actn-000002","Page__c":"a2KO0000000YD8EMAW","Section_Detail__c":"a2NO00000001J2mMAE","Is_Custom_Component__c":"true","Id":"a2OO00000001XZsMAM"},{"attributes":{"type":"Page_Flow_Action__c","url":"/services/data/v29.0/sobjects/Page_Flow_Action__c/a2OO00000001XZnMAM"},"Name":"Actn-000001","Page__c":"a2KO0000000YD7pMAG","Section_Detail__c":"a2NO00000001J0vMAE","Is_Custom_Component__c":"true","Id":"a2OO00000001XZnMAM"},{"attributes":{"type":"Page_Flow_Action__c","url":"/services/data/v29.0/sobjects/Page_Flow_Action__c/a2OO00000001XeFMAU"},"Name":"Actn-000016","Page__c":"a2KO0000000YD7kMAG","Section_Detail__c":"a2NO00000001J4EMAU","Is_Custom_Component__c":"false","Id":"a2OO00000001XeFMAU"},{"attributes":{"type":"Page_Flow_Action__c","url":"/services/data/v29.0/sobjects/Page_Flow_Action__c/a2OO00000001Xe5MAE"},"Name":"Actn-000014","Page__c":"a2KO0000000YD6mMAG","Section_Detail__c":"a2NO00000001NYPMA2","Is_Custom_Component__c":"false","Id":"a2OO00000001Xe5MAE"},{"attributes":{"type":"Page_Flow_Action__c","url":"/services/data/v29.0/sobjects/Page_Flow_Action__c/a2OO00000001XaMMAU"},"Name":"Actn-000005","Page__c":"a2KO0000000YD6mMAG","Section_Detail__c":"a2NO00000001J3zMAE","Is_Custom_Component__c":"false","Id":"a2OO00000001XaMMAU"},{"attributes":{"type":"Page_Flow_Action__c","url":"/services/data/v29.0/sobjects/Page_Flow_Action__c/a2OO00000001XabMAE"},"Name":"Actn-000008","Page__c":"a2KO0000000YD8EMAW","Section_Detail__c":"a2NO00000001J3uMAE","Is_Custom_Component__c":"true","Id":"a2OO00000001XabMAE"},{"attributes":{"type":"Page_Flow_Action__c","url":"/services/data/v29.0/sobjects/Page_Flow_Action__c/a2OO00000001XalMAE"},"Name":"Actn-000010","Page__c":"a2KO0000000YD8OMAW","Section_Detail__c":"a2NO00000001J4OMAU","Is_Custom_Component__c":"true","Id":"a2OO00000001XalMAE"},{"attributes":{"type":"Page_Flow_Action__c","url":"/services/data/v29.0/sobjects/Page_Flow_Action__c/a2OO00000001XaRMAU"},"Name":"Actn-000006","Page__c":"a2KO0000000YD89MAG","Section_Detail__c":"a2NO00000001J44MAE","Is_Custom_Component__c":"true","Id":"a2OO00000001XaRMAU"},{"attributes":{"type":"Page_Flow_Action__c","url":"/services/data/v29.0/sobjects/Page_Flow_Action__c/a2OO00000001Xb0MAE"},"Name":"Actn-000013","Page__c":"a2KO0000000YD8TMAW","Section_Detail__c":"a2NO00000001J4YMAU","Is_Custom_Component__c":"true","Id":"a2OO00000001Xb0MAE"},{"attributes":{"type":"Page_Flow_Action__c","url":"/services/data/v29.0/sobjects/Page_Flow_Action__c/a2OO00000001XaWMAU"},"Name":"Actn-000007","Page__c":"a2KO0000000YD7pMAG","Section_Detail__c":"a2NO00000001J3pMAE","Is_Custom_Component__c":"true","Id":"a2OO00000001XaWMAU"},{"attributes":{"type":"Page_Flow_Action__c","url":"/services/data/v29.0/sobjects/Page_Flow_Action__c/a2OO00000001XagMAE"},"Name":"Actn-000009","Page__c":"a2KO0000000YD8EMAW","Section_Detail__c":"a2NO00000001J4JMAU","Is_Custom_Component__c":"true","Id":"a2OO00000001XagMAE"},{"attributes":{"type":"Page_Flow_Action__c","url":"/services/data/v29.0/sobjects/Page_Flow_Action__c/a2OO00000001XavMAE"},"Name":"Actn-000012","Page__c":"a2KO0000000YD8OMAW","Section_Detail__c":"a2NO00000001J4dMAE","Is_Custom_Component__c":"true","Id":"a2OO00000001XavMAE"}]}';
                /*responseString = '{"PageFlow":{"attributes":{"type":"Page_Flow__c","url":"/services/data/v29.0/sobjects/Page_Flow__c/a1011000000WETnAAO"},"Name":"Client Information","Record_Type_API_Name__c":"Client_Information","Id":"a1011000000WETnAAO","Master_Object__c":"Service_Request__c"},"lstSections":[{"attributes":{"type":"Section__c","url":"/services/data/v29.0/sobjects/Section__c/a0a11000001S5nnAAC"},"Name":"Client Information Buttons","Page__c":"a0Z110000014BCmEAM","Migration_Rec_Id__c":"a1C11000000oKInEAM","Id":"a0a11000001S5nnAAC","Section_Type__c":"CommandButtonSection","Default_Rendering__c":"true","Order__c":1,"Layout__c":"1"},{"attributes":{"type":"Section__c","url":"/services/data/v29.0/sobjects/Section__c/a0a11000001S5noAAC"},"Name":"Review & Finalize button Navigation Section - Client Information","Page__c":"a0Z110000014BCnEAM","Migration_Rec_Id__c":"a1C11000000oKIiEAM","Id":"a0a11000001S5noAAC","Section_Type__c":"CommandButtonSection","Default_Rendering__c":"true","Section_Title__c":"Review & Finalise","Order__c":1,"Layout__c":"1"},{"attributes":{"type":"Section__c","url":"/services/data/v29.0/sobjects/Section__c/a0a11000001S5npAAC"},"Name":"Request Details Buttons - Client Information","Page__c":"a0Z110000014BClEAM","Migration_Rec_Id__c":"a1C11000000oKIYEA2","Id":"a0a11000001S5npAAC","Section_Type__c":"CommandButtonSection","Default_Rendering__c":"true","Order__c":1,"Layout__c":"1"},{"attributes":{"type":"Section__c","url":"/services/data/v29.0/sobjects/Section__c/a0a11000001S5nqAAC"},"Name":"Customer Correspondence Details - Client Information","Page__c":"a0Z110000014BClEAM","Migration_Rec_Id__c":"a1C11000000oKIdEAM","Id":"a0a11000001S5nqAAC","Section_Type__c":"PageBlockSection","Default_Rendering__c":"true","Section_Title__c":"Correspondence Details","Order__c":2,"Layout__c":"1"}],"lstSecRules":[],"lstSecDetails":[{"attributes":{"type":"Section_Detail__c","url":"/services/data/v29.0/sobjects/Section_Detail__c/a0c11000000mV1WAAU"},"Cancel_Request__c":"false","hasOnChange__c":"false","Render_By_Default__c":"true","Order__c":1,"Component_Type__c":"Command Button","Name":"Buttons","Button_Location__c":"Top","Migration_Rec_Id__c":"a1D11000008AZEwEAO","Navigation_Directions__c":"Backward","Section__c":"a0a11000001S5nnAAC","Mark_it_as_Required__c":"false","Id":"a0c11000000mV1WAAU","Ignore_Required_Fields__c":"false","Button_Position__c":"Center","Component_Label__c":"Previous","Navigation_Direction__c":"Backward","Commit_the_Record__c":"false"},{"attributes":{"type":"Section_Detail__c","url":"/services/data/v29.0/sobjects/Section_Detail__c/a0c11000000mV1ZAAU"},"Cancel_Request__c":"false","hasOnChange__c":"false","Render_By_Default__c":"true","Order__c":1,"Component_Type__c":"Command Button","Name":"Buttons","Migration_Rec_Id__c":"a1D11000008AZENEA4","Section__c":"a0a11000001S5npAAC","Mark_it_as_Required__c":"false","Id":"a0c11000000mV1ZAAU","Ignore_Required_Fields__c":"false","Button_Position__c":"Center","Component_Label__c":"Save","Navigation_Direction__c":"Forward","Commit_the_Record__c":true},{"attributes":{"type":"Section_Detail__c","url":"/services/data/v29.0/sobjects/Section_Detail__c/a0c11000000mV1YAAU"},"Cancel_Request__c":"false","hasOnChange__c":"false","Render_By_Default__c":"true","Order__c":1,"Component_Type__c":"Command Button","Name":"Previous","Button_Location__c":"Top","Migration_Rec_Id__c":"a1D11000008AZEmEAO","Navigation_Directions__c":"Backward","Section__c":"a0a11000001S5noAAC","Mark_it_as_Required__c":"false","Id":"a0c11000000mV1YAAU","Ignore_Required_Fields__c":"true","Button_Position__c":"Center","Component_Label__c":"Previous","Navigation_Direction__c":"Backward","Commit_the_Record__c":"false"},{"attributes":{"type":"Section_Detail__c","url":"/services/data/v29.0/sobjects/Section_Detail__c/a0c11000000mV1XAAU"},"Cancel_Request__c":"false","Field_API_Name__c":"Customer__c","hasOnChange__c":"false","Render_By_Default__c":"true","Order__c":1,"Component_Type__c":"Input Field","Name":"Customer","Migration_Rec_Id__c":"a1D11000008AZEXEA4","Section__c":"a0a11000001S5nqAAC","Mark_it_as_Required__c":"true","Id":"a0c11000000mV1XAAU","Ignore_Required_Fields__c":"false","Component_Label__c":"Customer","Navigation_Direction__c":"Forward","Object_Name__c":"Service_Request__c","Commit_the_Record__c":"false"},{"attributes":{"type":"Section_Detail__c","url":"/services/data/v29.0/sobjects/Section_Detail__c/a0c11000000mV1aAAE"},"Cancel_Request__c":"false","hasOnChange__c":"false","Render_By_Default__c":"true","Order__c":2,"Component_Type__c":"Command Button","Name":"Buttons","Migration_Rec_Id__c":"a1D11000008AZESEA4","Navigation_Directions__c":"Forward","Section__c":"a0a11000001S5npAAC","Mark_it_as_Required__c":"false","Id":"a0c11000000mV1aAAE","Ignore_Required_Fields__c":"false","Button_Position__c":"Center","Component_Label__c":"Next","Navigation_Direction__c":"Forward","Commit_the_Record__c":"false"},{"attributes":{"type":"Section_Detail__c","url":"/services/data/v29.0/sobjects/Section_Detail__c/a0c11000000mV1dAAE"},"Cancel_Request__c":"false","hasOnChange__c":"false","Render_By_Default__c":"true","Order__c":2,"Component_Type__c":"Command Button","Name":"Buttons","Button_Location__c":"Top","Migration_Rec_Id__c":"a1D11000008AZF1EAO","Navigation_Directions__c":"Forward","Section__c":"a0a11000001S5nnAAC","Mark_it_as_Required__c":"false","Id":"a0c11000000mV1dAAE","Ignore_Required_Fields__c":"false","Button_Position__c":"Center","Component_Label__c":"Next","Navigation_Direction__c":"Forward","Commit_the_Record__c":"false"},{"attributes":{"type":"Section_Detail__c","url":"/services/data/v29.0/sobjects/Section_Detail__c/a0c11000000mV1cAAE"},"Cancel_Request__c":"false","Field_API_Name__c":"Email__c","hasOnChange__c":"false","Render_By_Default__c":"true","Order__c":2,"Component_Type__c":"Input Field","Name":"Email","Migration_Rec_Id__c":"a1D11000008AZEcEAO","Section__c":"a0a11000001S5nqAAC","Mark_it_as_Required__c":"true","Id":"a0c11000000mV1cAAE","Ignore_Required_Fields__c":"false","Component_Label__c":"Email","Navigation_Direction__c":"Forward","Object_Name__c":"Service_Request__c","Commit_the_Record__c":"false"},{"attributes":{"type":"Section_Detail__c","url":"/services/data/v29.0/sobjects/Section_Detail__c/a0c11000000mV1bAAE"},"Cancel_Request__c":"false","hasOnChange__c":"false","Render_By_Default__c":"true","Order__c":2,"Component_Type__c":"Command Button","Name":"Finalise & Proceed","Button_Location__c":"Top","Migration_Rec_Id__c":"a1D11000008AZErEAO","Navigation_Directions__c":"Forward","Section__c":"a0a11000001S5noAAC","Mark_it_as_Required__c":"false","Id":"a0c11000000mV1bAAE","Ignore_Required_Fields__c":"true","Button_Position__c":"Center","Component_Label__c":"Finalise & Proceed","Navigation_Direction__c":"Forward","Commit_the_Record__c":"false"},{"attributes":{"type":"Section_Detail__c","url":"/services/data/v29.0/sobjects/Section_Detail__c/a0c11000000mVogAAE"},"Cancel_Request__c":"true","hasOnChange__c":"false","Render_By_Default__c":"true","Order__c":3,"Component_Type__c":"Command Button","Name":"Cancel","Button_Location__c":"Top","Section__c":"a0a11000001S5noAAC","Mark_it_as_Required__c":"false","Id":"a0c11000000mVogAAE","Ignore_Required_Fields__c":"false","Button_Position__c":"Center","Component_Label__c":"Cancel SR","Navigation_Direction__c":"Forward","Commit_the_Record__c":"false"},{"attributes":{"type":"Section_Detail__c","url":"/services/data/v29.0/sobjects/Section_Detail__c/a0c11000000mV1eAAE"},"Cancel_Request__c":"false","Field_API_Name__c":"Send_SMS_To_Mobile__c","hasOnChange__c":"false","Render_By_Default__c":"true","Order__c":3,"Component_Type__c":"Input Field","Name":"Mobile","Migration_Rec_Id__c":"a1D11000008AZEhEAO","Section__c":"a0a11000001S5nqAAC","Mark_it_as_Required__c":"true","Id":"a0c11000000mV1eAAE","Ignore_Required_Fields__c":"false","Component_Label__c":"Mobile","Navigation_Direction__c":"Forward","Object_Name__c":"Service_Request__c","Commit_the_Record__c":"false"}],"lstSecDeatilRules":[{"attributes":{"type":"Page_Navigation_Rule__c","url":"/services/data/v29.0/sobjects/Page_Navigation_Rule__c/a1111000000nVHwAAM"},"Name":"PNR-000329","Migration_Rec_Id__c":"a1J110000008COYEA2","Rule_Name__c":"Next Button Navigation","Section_Detail__c":"a0c11000000mV1dAAE","Rule_Condition__c":"1","Id":"a1111000000nVHwAAM","Rule_Text_Condition__c":"Service_Request__c->Id#!=#null"},{"attributes":{"type":"Page_Navigation_Rule__c","url":"/services/data/v29.0/sobjects/Page_Navigation_Rule__c/a1111000000nVHxAAM"},"Name":"PNR-000330","Migration_Rec_Id__c":"a1J110000008COTEA2","Rule_Name__c":"Previous Page","Section_Detail__c":"a0c11000000mV1WAAU","Rule_Condition__c":"1","Id":"a1111000000nVHxAAM","Rule_Text_Condition__c":"Service_Request__c->Id#!=#null"}],"lstRuleConds":[{"attributes":{"type":"Page_Flow_Condition__c","url":"/services/data/v29.0/sobjects/Page_Flow_Condition__c/a0z11000000okKJAAY"},"Name":"Cond-000975","Page_Navigation_Rule__c":"a1111000000nVHxAAM","S_No__c":1,"Operator__c":"!=","Condition_Type__c":"Button Action","Field_Name__c":"Id","Id":"a0z11000000okKJAAY","Value__c":"null","Flow_Id__c":"a1011000000WETn","Object_Name__c":"Service_Request__c"},{"attributes":{"type":"Page_Flow_Condition__c","url":"/services/data/v29.0/sobjects/Page_Flow_Condition__c/a0z11000000okKKAAY"},"Name":"Cond-000976","Page_Navigation_Rule__c":"a1111000000nVHwAAM","S_No__c":1,"Operator__c":"!=","Condition_Type__c":"Button Action","Field_Name__c":"Id","Id":"a0z11000000okKKAAY","Value__c":"null","Flow_Id__c":"a1011000000WETn","Object_Name__c":"Service_Request__c"}],"lstRuleActions":[{"attributes":{"type":"Page_Flow_Action__c","url":"/services/data/v29.0/sobjects/Page_Flow_Action__c/a0y11000000qgxhAAA"},"Name":"Actn-000415","Page_Navigation_Rule__c":"a1111000000nVHxAAM","Page__c":"a0Z110000014BClEAM","S_No__c":1,"Is_Custom_Component__c":"false","Id":"a0y11000000qgxhAAA"},{"attributes":{"type":"Page_Flow_Action__c","url":"/services/data/v29.0/sobjects/Page_Flow_Action__c/a0y11000000qgxiAAA"},"Name":"Actn-000416","Page_Navigation_Rule__c":"a1111000000nVHwAAM","Page__c":"a0Z110000014BCnEAM","S_No__c":1,"Id":"a0y11000000qgxiAAA"}],"lstPgRules":[],"lstPages":[{"attributes":{"type":"Page__c","url":"/services/data/v29.0/sobjects/Page__c/a0Z110000014BClEAM"},"Name":"Request Details - Client Information","Page_Order__c":1,"Migration_Rec_Id__c":"a1B11000003pS7xEAE","No_Quick_navigation__c":"false","Page_Flow__c":"a1011000000WETnAAO","What_Id__c":"Service Request","Is_Custom_Component__c":"false","Id":"a0Z110000014BClEAM","Render_By_Default__c":"true","Page_Description__c":"This request is to ensure that GEMS communications are received by the relevant persons in the company. In this request you can update the details of the management, general communications, and IT. Just click on each of the sections shown on the left hand panel, complete it, save it, and press on Next. On Review and Finalize, make sure that you are okay with all the details of the completed sections and click on Finalize & Proceed. In this step, you can also cancel the request, and create a new one. Navigate to Submit Request to finalize the submission."},{"attributes":{"type":"Page__c","url":"/services/data/v29.0/sobjects/Page__c/a0Z110000014BCmEAM"},"Name":"Client Information","VF_Page_API_Name__c":"ClientInformation","Page_Order__c":2,"Migration_Rec_Id__c":"a1B11000003pS82EAE","No_Quick_navigation__c":"false","Page_Flow__c":"a1011000000WETnAAO","What_Id__c":"Service_Request__c","Id":"a0Z110000014BCmEAM","Render_By_Default__c":"true","Page_Description__c":"Client Information"},{"attributes":{"type":"Page__c","url":"/services/data/v29.0/sobjects/Page__c/a0Z110000014BCnEAM"},"Name":"Review & Finalize - Client Information","VF_Page_API_Name__c":"Review_Finalise","Page_Order__c":3,"Migration_Rec_Id__c":"a1B11000003pS87EAE","No_Quick_navigation__c":"false","Page_Flow__c":"a1011000000WETnAAO","What_Id__c":"Service_Request__c","Id":"a0Z110000014BCnEAM","Render_By_Default__c":"true","Page_Description__c":"Client Information"},{"attributes":{"type":"Page__c","url":"/services/data/v29.0/sobjects/Page__c/a0Z110000014BCoEAM"},"Name":"Submit Request - Client Information","VF_Page_API_Name__c":"SRSubmissionPage","Page_Order__c":4,"Migration_Rec_Id__c":"a1B11000003pS8CEAU","No_Quick_navigation__c":"true","Page_Flow__c":"a1011000000WETnAAO","What_Id__c":"Service_Request__c","Id":"a0Z110000014BCoEAM","Render_By_Default__c":"true","Page_Description__c":"Confirm the Service request."}],"lstNavigRules":[],"lstBtnActions":[{"attributes":{"type":"Page_Flow_Action__c","url":"/services/data/v29.0/sobjects/Page_Flow_Action__c/a0y11000000qgxjAAA"},"Name":"Actn-000417","Page__c":"a0Z110000014BCmEAM","Section_Detail__c":"a0c11000000mV1aAAE","Id":"a0y11000000qgxjAAA"},{"attributes":{"type":"Page_Flow_Action__c","url":"/services/data/v29.0/sobjects/Page_Flow_Action__c/a0y11000000qgxkAAA"},"Name":"Actn-000418","Page__c":"a0Z110000014BCnEAM","Section_Detail__c":"a0c11000000mV1dAAE","Id":"a0y11000000qgxkAAA"},{"attributes":{"type":"Page_Flow_Action__c","url":"/services/data/v29.0/sobjects/Page_Flow_Action__c/a0y11000000qgxlAAA"},"Name":"Actn-000419","Page__c":"a0Z110000014BCmEAM","Section_Detail__c":"a0c11000000mV1YAAU","Id":"a0y11000000qgxlAAA"},{"attributes":{"type":"Page_Flow_Action__c","url":"/services/data/v29.0/sobjects/Page_Flow_Action__c/a0y11000000qgxmAAA"},"Name":"Actn-000420","Page__c":"a0Z110000014BCoEAM","Section_Detail__c":"a0c11000000mV1bAAE","Id":"a0y11000000qgxmAAA"}]}';*/
            }
            objProcess = new FlowProcessWrap();
            if(responseString!=null && responseString!=''){
                objProcess = (FlowProcessWrap)JSON.deserialize(responseString,FlowProcessWrap.class);
            }
            if(objProcess!=null && objProcess.PageFlow!=null && objProcess.PageFlow.Id!=null){
                showPnl = true;
            }else{
              ApexPages.addMessage(new ApexPages.message(ApexPages.severity.Info,'SR Template not found in '+objCS.Name +' environment with "'+strTemplateName+'" Record type API Name'));
            }
        }
    }
    
    public string strNewSRTemplId{get;set;}
    /*
        Method Name : ConfirmSave
        Description : This Method will saves the entire process into this Org.
    */
    public pagereference ConfirmSave(){
        if(objProcess!=null && objProcess.PageFlow!=null && objProcess.PageFlow.Id!=null){
          /* Start of Preparing the Save Point */
            Savepoint Stat_svpoint = Database.setSavepoint();
            /* End of Preparing the Save Point */
            
            Page_Flow__c objFlow = new Page_Flow__c();
            objFlow = objProcess.PageFlow;
            objFlow.Id = null;
            try{
              insert objFlow;
            }catch(Exception e){
              Database.rollback(Stat_svpoint);
                ApexPages.addMessage(new ApexPages.message(ApexPages.severity.Error,e.getMessage()));
                return null;
            }
            Pagereference pgFlow = new Pagereference('/'+objFlow.Id);
            pgFlow.setRedirect(true);
            
            map<string,string> MapPageRecs = new map<string,string>();
            map<string,string> MapSecRecs = new map<string,string>();
            map<string,string> MapSecDetailRecs = new map<string,string>();
            map<string,string> MapNavigRuleRecs = new map<string,string>();
            
            if(objProcess.lstPages!=null && objProcess.lstPages.size()>0){
              list<Page__c> lstPages_Insert = new list<Page__c>();
              Page__c pgInsert;
              for(Page__c objPg:objProcess.lstPages){
                string strMigId = objPg.Id;
                pgInsert = new Page__c();
                pgInsert = objPg;
                pgInsert.Id = null;
                pgInsert.Migration_Rec_Id__c = strMigId;
                pgInsert.Page_Flow__c = objFlow.Id;
                lstPages_Insert.add(pgInsert);
              }
              try{
          insert lstPages_Insert;
          for(Page__c pg:lstPages_Insert){
            MapPageRecs.put(pg.Migration_Rec_Id__c,pg.Id);
          }
              }catch(Exception e){
                Database.rollback(Stat_svpoint);
                  ApexPages.addMessage(new ApexPages.message(ApexPages.severity.Error,e.getMessage()));
                  return null;
              }
            }
            if(objProcess.lstSections!=null && objProcess.lstSections.size()>0){
              list<Section__c> lstSec_Insert = new list<Section__c>();
              Section__c SecInsert;
              for(Section__c objSec:objProcess.lstSections){
                string strMigId = objSec.Id;
                SecInsert = new Section__c();
                SecInsert = objSec;
                SecInsert.Id = null;
                SecInsert.Page__c = MapPageRecs.get(objSec.Page__c);
                SecInsert.Migration_Rec_Id__c = strMigId;
                lstSec_Insert.add(SecInsert);
              }
              try{
                insert lstSec_Insert;
                for(Section__c sec:lstSec_Insert){
            MapSecRecs.put(sec.Migration_Rec_Id__c,sec.Id);
          }
              }catch(Exception e){
                Database.rollback(Stat_svpoint);
                  system.debug('===>'+e.getMessage());
                  ApexPages.addMessage(new ApexPages.message(ApexPages.severity.Error,e.getMessage()));
                  return null;
              }
            }
            
            if(objProcess.lstSecDetails!=null && objProcess.lstSecDetails.size()>0){
              list<Section_Detail__c> lstSecDet_Insert = new list<Section_Detail__c>();
              Section_Detail__c SecDetInsert;
              for(Section_Detail__c objSecDetail:objProcess.lstSecDetails){
                string strMigId = objSecDetail.Id;
                SecDetInsert = new Section_Detail__c();
                SecDetInsert = objSecDetail;
                SecDetInsert.Id = null;
                SecDetInsert.Section__c = MapSecRecs.get(objSecDetail.Section__c);
                SecDetInsert.Migration_Rec_Id__c = strMigId;
                lstSecDet_Insert.add(SecDetInsert);
              }
              try{
                insert lstSecDet_Insert;
                for(Section_Detail__c secDet:lstSecDet_Insert){
            MapSecDetailRecs.put(secDet.Migration_Rec_Id__c,secDet.Id);
          }
              }catch(Exception e){
                Database.rollback(Stat_svpoint);
                  system.debug('===>'+e.getMessage());
                  ApexPages.addMessage(new ApexPages.message(ApexPages.severity.Error,e.getMessage()));
                  return null;
              }
            }
            
            if(objProcess.lstPgRules!=null && objProcess.lstPgRules.size()>0){
              list<Page_Navigation_Rule__c> lstPgNavig_Insert = new list<Page_Navigation_Rule__c>();
              Page_Navigation_Rule__c PgNavIns;
              for(Page_Navigation_Rule__c pgrule:objProcess.lstPgRules){
                string strMigId = pgrule.Id;
                PgNavIns = new Page_Navigation_Rule__c();
                PgNavIns = pgrule;
                PgNavIns.Id = null;
                PgNavIns.Page__c = MapPageRecs.get(pgrule.Page__c);
                PgNavIns.Migration_Rec_Id__c = strMigId;
                lstPgNavig_Insert.add(PgNavIns);
              }
              try{
                insert lstPgNavig_Insert;
                for(Page_Navigation_Rule__c pgrule:lstPgNavig_Insert){
            MapNavigRuleRecs.put(pgrule.Migration_Rec_Id__c,pgrule.Id);
          }
              }catch(Exception e){
                Database.rollback(Stat_svpoint);
                  ApexPages.addMessage(new ApexPages.message(ApexPages.severity.Error,e.getMessage()));
                  return null;
              }
            }
            
            if(objProcess.lstSecRules!=null && objProcess.lstSecRules.size()>0){
              list<Page_Navigation_Rule__c> lstSecRules_Insert = new list<Page_Navigation_Rule__c>();
              Page_Navigation_Rule__c SecRule;
              for(Page_Navigation_Rule__c sectRule:objProcess.lstSecRules){
                string strMigId = sectRule.Id;
                SecRule = new Page_Navigation_Rule__c();
                SecRule = sectRule;
                SecRule.Id = null;
                SecRule.Section__c = MapSecRecs.get(sectRule.Section__c);
                SecRule.Migration_Rec_Id__c = strMigId;
                lstSecRules_Insert.add(SecRule);
              }
              try{
                insert lstSecRules_Insert;
                for(Page_Navigation_Rule__c sectionRule:lstSecRules_Insert){
            MapNavigRuleRecs.put(sectionRule.Migration_Rec_Id__c,sectionRule.Id);
          }
              }catch(Exception e){
                Database.rollback(Stat_svpoint);
                  system.debug('===>'+e.getMessage());
                  ApexPages.addMessage(new ApexPages.message(ApexPages.severity.Error,e.getMessage()));
                  return null;
              }
            }
            
            if(objProcess.lstSecDeatilRules!=null && objProcess.lstSecDeatilRules.size()>0){
              list<Page_Navigation_Rule__c> lstSecDetRules_Insert = new list<Page_Navigation_Rule__c>();
              Page_Navigation_Rule__c SecDetlsRule;
              for(Page_Navigation_Rule__c secDetRule:objProcess.lstSecDeatilRules){
                string strMigId = secDetRule.Id;
                SecDetlsRule = new Page_Navigation_Rule__c();
                SecDetlsRule = secDetRule;
                SecDetlsRule.Id = null;
                SecDetlsRule.Section_Detail__c = MapSecDetailRecs.get(secDetRule.Section_Detail__c);
                SecDetlsRule.Migration_Rec_Id__c = strMigId;
                lstSecDetRules_Insert.add(SecDetlsRule);
              }
              try{
                insert lstSecDetRules_Insert;
                for(Page_Navigation_Rule__c sectionDetRule:lstSecDetRules_Insert){
                    MapNavigRuleRecs.put(sectionDetRule.Migration_Rec_Id__c,sectionDetRule.Id);
                }
              }catch(Exception e){
                Database.rollback(Stat_svpoint);
                  ApexPages.addMessage(new ApexPages.message(ApexPages.severity.Error,e.getMessage()));
                  return null;
              }
            }
            
            if(objProcess.lstRuleConds!=null && objProcess.lstRuleConds.size()>0){
              list<Page_Flow_Condition__c> lstRuleCond_Insert = new list<Page_Flow_Condition__c>();
              Page_Flow_Condition__c objRuleCond;
              for(Page_Flow_Condition__c RuleCnd:objProcess.lstRuleConds){
                objRuleCond = new Page_Flow_Condition__c();
                objRuleCond = RuleCnd;
                objRuleCond.Id = null;
                objRuleCond.Page_Navigation_Rule__c = MapNavigRuleRecs.get(RuleCnd.Page_Navigation_Rule__c);
                lstRuleCond_Insert.add(objRuleCond);
              }
              try{
                insert lstRuleCond_Insert;
              }catch(Exception e){
                Database.rollback(Stat_svpoint);
                  ApexPages.addMessage(new ApexPages.message(ApexPages.severity.Error,e.getMessage()));
                  return null;
              }
            }
            
            if(objProcess.lstRuleActions!=null && objProcess.lstRuleActions.size()>0){
              list<Page_Flow_Action__c> lstRuleAct_Insert = new list<Page_Flow_Action__c>();
              Page_Flow_Action__c objRuleAct;
              for(Page_Flow_Action__c RuleActn:objProcess.lstRuleActions){
                objRuleAct = new Page_Flow_Action__c();
                objRuleAct = RuleActn;
                objRuleAct.Id = null;
                objRuleAct.Page__c = MapPageRecs.get(RuleActn.Page__c);
                objRuleAct.Page_Navigation_Rule__c = MapNavigRuleRecs.get(RuleActn.Page_Navigation_Rule__c);
                lstRuleAct_Insert.add(objRuleAct);
              }
              try{
                insert lstRuleAct_Insert;
              }catch(Exception e){
                Database.rollback(Stat_svpoint);
                  ApexPages.addMessage(new ApexPages.message(ApexPages.severity.Error,e.getMessage()));
                  return null;
              }
            }
            
            if(objProcess.lstBtnActions!=null && objProcess.lstBtnActions.size()>0){
              list<Page_Flow_Action__c> lstBtnAct_Insert = new list<Page_Flow_Action__c>();
              Page_Flow_Action__c objBtnAct;
              for(Page_Flow_Action__c BtnActn:objProcess.lstBtnActions){
                objBtnAct = new Page_Flow_Action__c();
                objBtnAct = BtnActn;
                objBtnAct.Id = null;
                objBtnAct.Page_Flow__c = objFlow.Id;
                objBtnAct.Page__c = MapPageRecs.get(BtnActn.Page__c);
                objBtnAct.Section_Detail__c = MapSecDetailRecs.get(BtnActn.Section_Detail__c);
                lstBtnAct_Insert.add(objBtnAct);
              }
              try{
                insert lstBtnAct_Insert;
              }catch(Exception e){
                Database.rollback(Stat_svpoint);
                  ApexPages.addMessage(new ApexPages.message(ApexPages.severity.Error,e.getMessage()));
                  return null;
              }
            }
            return pgFlow;
        }
        return null;
    }
    
    
    public string ConnectionError;
    /*
        Method Name : AcessToken
        Description : This Method Will Return the AccessToken by connecting with User Defined SFDC Org 
    */
    public string AcessToken(string userName,string Password,string SecurityToken,boolean isProdution){
        string clientId = '3MVG98RqVesxRgQ6tItpjav2ozTf5.kqz3r5XRtGekSeU_hjbK7NoBwtN5G1Xi1PVWEfQXt9wV0.qKTX0OWmC';
        string ConsumerKey = '8890259184560227623';
        string Environment = 'test';
        if(isProdution!=null && isProdution==true)
          Environment = 'login';
        string URI = 'https://'+Environment+'.salesforce.com/services/oauth2/token?grant_type=password&' + 'client_id=' + clientId + '&' + 'client_secret=' + ConsumerKey + '&' + 'username=' + username + '&' + 'password=' + password;
        JSONParser parser1;
        accsToken = '';
        HttpRequest req = new HttpRequest();
        req.setEndpoint(URI);
        req.setMethod('POST');
        Http http = new Http();
        if(!isApexTest){
            HTTPResponse res = http.send(req);
            accsToken = '';
            system.debug('AccessToken==>'+res.getBody());
            parser1 = JSON.createParser(res.getBody());
        }else{
             String result = '{"id":"https://test.salesforce.com/id/00Dg0000003L0MREA0/005g0000000vZSKAA2","issued_at":"1398932139767","token_type":"Bearer","instance_url":"https://cs17.salesforce.com","signature":"oQ7eOe8SIHMoqZw6XTX7qsoalf43WPMfJG9foXDhph8=","access_token":"00Dg0000003L0MR!AQUAQPMYBxWQE7EQj8U6q17.6IHneCQ0Fj.N2Reek.i5xA8Z.UFol_.v7iypTySMU1nKaEg0tciXmKyCwCGFPdZtuk_M5dQr"}';
             parser1 = JSON.createParser(result);
        }
        if(parser1!=null){
            while(parser1.nextToken() != null) {
                if ((parser1.getCurrentToken() == JSONToken.FIELD_NAME) && (parser1.getText() == 'access_token')) {
                    parser1.nextToken();
                    accsToken = parser1.getText();
                }
                if ((parser1.getCurrentToken() == JSONToken.FIELD_NAME) && (parser1.getText() == 'error_description')) {
                    parser1.nextToken();
                    ConnectionError = parser1.getText();
                }
            }
        }
        return accsToken;
    }
    
    public class FlowProcessWrap{
      public Page_Flow__c PageFlow{get;set;}
      public list<Page__c> lstPages{get;set;}
      public list<Section__c> lstSections{get;set;}
      public list<Section_Detail__c> lstSecDetails{get;set;}
      
      public list<Page_Navigation_Rule__c> lstPgRules{get;set;}
      public list<Page_Navigation_Rule__c> lstSecRules{get;set;}
      public list<Page_Navigation_Rule__c> lstSecDeatilRules{get;set;}
      public list<Page_Navigation_Rule__c> lstNavigRules{get;set;}
      
      public list<Page_Flow_Condition__c> lstRuleConds{get;set;}
      
      public list<Page_Flow_Action__c> lstRuleActions{get;set;}
      public list<Page_Flow_Action__c> lstBtnActions{get;set;}
      
      public FlowProcessWrap(){
        PageFlow = new Page_Flow__c();
        lstPages = new list<Page__c>();
        lstSections = new list<Section__c>();
        lstSecDetails = new list<Section_Detail__c>();
        
        lstPgRules = new list<Page_Navigation_Rule__c>();
        lstSecRules = new list<Page_Navigation_Rule__c>();
        lstSecDeatilRules = new list<Page_Navigation_Rule__c>();
        lstNavigRules = new list<Page_Navigation_Rule__c>();
        
        lstRuleConds = new list<Page_Flow_Condition__c>();
        
        lstRuleActions = new list<Page_Flow_Action__c>();
        lstBtnActions = new list<Page_Flow_Action__c>();
        
      }
    }
}